{% sw_extends '@Storefront/storefront/component/checkout/offcanvas-cart.html.twig'%}

{% block utilities_offcanvas_content %}
    {% block component_offcanvas_cart %}

        {% set isCartNotEmpty = (page.cart.lineItems|length > 0) %}

        <div class="offcanvas-cart d-none">
            {% block component_offcanvas_cart_header %}{% endblock %}

            {% block component_offcanvas_cart_flashbags %}
                <div class="flashbags">
                    {% for type, messages in app.flashes %}
                        {% sw_include '@Storefront/storefront/utilities/alert.html.twig' with {
                            type: type,
                            list: messages
                        } %}
                    {% endfor %}

                </div>
            {% endblock %}

            {% if isCartNotEmpty %}
                {% block component_offcanvas_cart_items %}
                    <div class="offcanvas-cart-items">
                        <div class="owy-nav-cart">
                            <ul class="owy-nav-list">
                                {% for lineItem in page.cart.lineItems %}
                                    <li class="cart-items {{ lineItem.type }}">
                                        {% block component_offcanvas_cart_item %}
                                            {% sw_include '@Storefront/storefront/component/line-item/line-item.html.twig' with {
                                                displayMode: 'offcanvas',
                                                redirectTo: 'frontend.cart.offcanvas',
                                            } %}
                                        {% endblock %}
                                    </li>
                                {% endfor %}
                            </ul>
                        </div>
                    </div>
                {% endblock %}
            {% else %}
                {% block component_offcanvas_cart_empty %}
                    {#{% sw_include '@Storefront/storefront/utilities/alert.html.twig' with {
                        type: "info1",
                        content: "checkout.emptyCart"|trans|sw_sanitize
                    } %}#}
            <div class="alert-content-container">
                <div class="alert-heading h6">{{ "checkout.emptyCart"|trans|sw_sanitize }}</div>
            </div>
                {% endblock %}
            {% endif %}

            {% if isCartNotEmpty %}
                {% block component_offcanvas_summary %}
                    {% sw_include '@Storefront/storefront/component/checkout/offcanvas-cart-summary.html.twig' %}
                {% endblock %}
            {% endif %}

            {% block component_offcanvas_cart_actions %}
                <div class="d-grid">
                    <a href="{{ path('frontend.checkout.cart.page') }}"
                       class="btn btn-link"
                       title="{{ "checkout.proceedToCart"|trans|striptags }}">
                        {{ "checkout.proceedToCart"|trans|sw_sanitize }}
                    </a>
                </div>
            {% endblock %}
        </div>

        {% block component_offcanvas_cart_hidden_line_items_information %}
            {% sw_include '@Storefront/storefront/component/checkout/hidden-line-items-information.html.twig' with {
                cart: page.cart,
                lineItems: page.cart.lineItems
            } %}
        {% endblock %}
    {% endblock %}
{% endblock %}
