/*! For license information please see swag-language-pack.js.LICENSE.txt */
!function(e){var n={};function a(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,a),r.l=!0,r.exports}a.m=e,a.c=n,a.d=function(e,n,t){a.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,n){if(1&n&&(e=a(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(a.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var r in e)a.d(t,r,function(n){return e[n]}.bind(null,r));return t},a.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(n,"a",n),n},a.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},a.p=(window.__sw__.assetPath + '/bundles/swaglanguagepack/'),a(a.s="JEA8")}({"/xAi":function(e,n,a){var t=a("BH4e");t.__esModule&&(t=t.default),"string"==typeof t&&(t=[[e.i,t,""]]),t.locals&&(e.exports=t.locals);(0,a("ydqr").default)("a5422cf0",t,!0,{})},"0vt6":function(e,n){Shopware.Component.override("sw-sales-channel-detail",{methods:{getLoadSalesChannelCriteria:function(){return this.$super("getLoadSalesChannelCriteria").addAssociation("languages.locale")}}})},"6gW7":function(e,n,a){},ARR2:function(e,n,a){var t=a("nNYt");t.__esModule&&(t=t.default),"string"==typeof t&&(t=[[e.i,t,""]]),t.locals&&(e.exports=t.locals);(0,a("ydqr").default)("127fbae8",t,!0,{})},BH4e:function(e,n,a){},Fi8H:function(e,n){var a=Shopware.Component,t=Shopware.Data.Criteria;a.override("sw-users-permissions-user-create",{computed:{languageCriteria:function(){return this.$super("languageCriteria").addFilter(t.multi("OR",[t.equals("extensions.swagLanguagePackLanguage.id",null),t.equals("extensions.swagLanguagePackLanguage.administrationActive",!0),t.equals("id",Shopware.Defaults.systemLanguageId)]))}},methods:{onSave:function(){this.$super("onSave")}}})},GC3f:function(e,n){var a=Shopware.Component,t=Shopware.Data.Criteria;a.override("sw-users-permissions-user-detail",{computed:{languageCriteria:function(){var e=this.$super("languageCriteria");return e.addFilter(t.multi("OR",[t.equals("extensions.swagLanguagePackLanguage.id",null),t.equals("extensions.swagLanguagePackLanguage.administrationActive",!0),t.equals("id",Shopware.Defaults.systemLanguageId)])),e}}})},"H7/p":function(e,n,a){var t=a("6gW7");t.__esModule&&(t=t.default),"string"==typeof t&&(t=[[e.i,t,""]]),t.locals&&(e.exports=t.locals);(0,a("ydqr").default)("d132e2e2",t,!0,{})},HOiX:function(e,n){Shopware.Service("privileges").addPrivilegeMappingEntry({category:"permissions",parent:"settings",key:"language",roles:{viewer:{privileges:["sales_channel:read","sales_channel_domain:read"]},editor:{privileges:["swag_language_pack_language:update","user:read","user:update"]}}})},IVth:function(e,n){var a,t=Shopware.Data.Criteria,r=Shopware.Utils.debug.warn,s=Shopware.Service("repositoryFactory").create("swag_language_pack_language"),i=(new t).addFilter(t.equals("administrationActive",!0)).addAggregation(t.terms("locales","language.locale.code",null,null,null)),o=Shopware.Plugin.addBootPromise();s.search(i).then((function(e){e.aggregations.locales.buckets.forEach((function(e){var n=e.key;!1===Shopware.Locale.getByName(n)&&(a=n,Shopware.Locale.register(n,{}))})),o()})).catch((function(){var e='Unable to register "packLanguages".';void 0!==a&&(e+=" Problems occurred while installing language: ".concat(a)),r("SwagLanguagePack",e),o()}))},JEA8:function(e,n,a){"use strict";a.r(n);var t;a("xSjI"),a("IVth");(t=a("tnsL")).keys().reduce((function(e,n){var a=n.split("/")[1].split(".")[0],r={name:"".concat("swag-language-pack-flag-").concat(a),functional:!0,render:function(e,a){var r=a.data;return e("span",{class:[r.staticClass,r.class],style:r.style,attrs:r.attrs,on:r.on,domProps:{innerHTML:t(n).default}})}};return e.push(r),e}),[]).forEach((function(e){Shopware.Component.register(e.name,e)}));a("cRk3"),a("wX3Q");var r=Shopware.Component,s=Shopware.Data.Criteria;r.extend("swag-sales-channel-defaults-select-filterable","sw-sales-channel-defaults-select",{template:'{% block sw_sales_channel_defaults_select %}\n    {% block swag_sales_channel_defaults_select_filterable %}\n        <sw-container class="sw-sales-channel-defaults-select" gap="0px 30px" columns="1fr 200px">\n\n            {% block swag_sales_channel_defaults_select_filterable_content %}\n                <template v-if="salesChannel">\n\n                    {% block swag_sales_channel_defaults_select_filterable_content_languages %}\n                        <sw-entity-multi-select\n                                :disabled="disabled"\n                                :class="multiSelectClass"\n                                :criteria="criteria"\n                                :label="propertyLabel"\n                                :helpText="helpText"\n                                :entityCollection="propertyCollection"\n                                @change="updateCollection">\n                        </sw-entity-multi-select>\n                    {% endblock %}\n\n                    {% block swag_sales_channel_defaults_select_filterable_content_default_language %}\n                        <sw-entity-single-select\n                                :disabled="disabled"\n                                :class="singleSelectClass"\n                                :criteria="criteria"\n                                :label="defaultPropertyLabel"\n                                :helpText="helpText"\n                                :entity="propertyEntityName"\n                                :value="defaultId"\n                                :error="defaultsValueError"\n                                required\n                                @change="updateDefault">\n                        </sw-entity-single-select>\n                    {% endblock %}\n\n                </template>\n            {% endblock %}\n\n        </sw-container>\n    {% endblock %}\n{% endblock %}',props:{criteria:{type:Object,required:!1,default:function(){return new s(1,25)}}}});a("0vt6");var i=Shopware,o=i.Component,l=i.Defaults,c=Shopware.Data.Criteria;o.override("sw-sales-channel-detail-base",{template:'{% block sw_sales_channel_detail_base_general_input_languages %}\n    <swag-sales-channel-defaults-select-filterable\n            v-if="!isProductComparison"\n            :salesChannel="salesChannel"\n            :criteria="languageCriteria"\n            propertyName="languages"\n            defaultPropertyName="languageId"\n            propertyNameInDomain="languageId"\n            :propertyLabel="$tc(\'sw-sales-channel.detail.labelInputLanguages\')"\n            :defaultPropertyLabel="$tc(\'sw-sales-channel.detail.labelInputDefaultLanguage\')"\n            :disabled="!acl.can(\'sales_channel.editor\')">\n    </swag-sales-channel-defaults-select-filterable>\n{% endblock %}',computed:{languageCriteria:function(){return(new c).addAssociation("swagLanguagePackLanguage").addAssociation("locale").addSorting(c.sort("name","ASC")).addFilter(c.multi("OR",[c.equals("extensions.swagLanguagePackLanguage.id",null),c.equals("extensions.swagLanguagePackLanguage.salesChannelActive",!0),c.equals("id",l.systemLanguageId)]))}}});var g=Shopware.Component,u=Shopware.Data.Criteria;g.override("sw-settings-language-list",{template:'{% block sw_settings_language_list_content_list_delete_action %}\n    <template #delete-action="{ item, showDelete }">\n\n        {% block sw_settings_language_list_content_list_delete_action_language_pack %}\n            <template v-if="isPackLanguage(item.id)">\n                <sw-context-menu-item\n                        v-tooltip.bottom="$tc(\'swag-language-pack.sw-settings-language-list.deleteLanguagePackTooltip\')"\n                        class="sw-settings-language-list__delete-action"\n                        variant="danger"\n                        disabled\n                        @click="showDelete(item.id)">\n                    {{ $tc(\'global.default.delete\') }}\n                </sw-context-menu-item>\n            </template>\n        {% endblock %}\n\n        {% block sw_settings_language_list_content_list_delete_action_language %}\n            <template v-else>\n                <sw-context-menu-item\n                        v-tooltip.bottom="tooltipDelete(item.id)"\n                        class="sw-settings-language-list__delete-action"\n                        variant="danger"\n                        :disabled="isDefault(item.id) || !allowDelete"\n                        @click="showDelete(item.id)">\n                    {{ $tc(\'global.default.delete\') }}\n                </sw-context-menu-item>\n            </template>\n        {% endblock %}\n\n    </template>\n{% endblock %}\n',data:function(){return{packLanguageLanguageIds:[]}},computed:{packLanguageCriteria:function(){return new u(1,50).addFilter(u.not("and",[u.equals("swagLanguagePackLanguage.id",null)]))}},created:function(){this.createdComponent()},methods:{createdComponent:function(){this.getPackLanguageLanguageIds()},getPackLanguageLanguageIds:function(){var e=this;this.languageRepository.searchIds(this.packLanguageCriteria).then((function(n){e.packLanguageLanguageIds=n.data}))},isPackLanguage:function(e){return this.packLanguageLanguageIds.includes(e)}}});a("HOiX"),a("/xAi");Shopware.Component.register("swag-language-pack-flag",{template:'{% block swag_language_pack_flag %}\n<component :is="flagComponentName" :class="locale"/>\n{% endblock %}\n',props:{locale:{type:String,required:!1,default:""}},computed:{flagComponentName:function(){var e=this.locale.split("-")[1].toLowerCase();return"".concat("swag-language-pack-flag-").concat(e)}}});a("ARR2");Shopware.Component.register("swag-pack-language-entry",{template:'{% block swag_pack_language_entry %}\n<div class="swag-language-pack-entry">\n\n    {% block swag_pack_language_entry_flag %}\n    <swag-language-pack-flag class="swag-language-pack-entry__flag" :locale="flagLocale"/>\n    {% endblock %}\n\n    {% block swag_pack_language_entry_content %}\n    <div class="swag-language-pack-entry__content">\n\n        {% block swag_pack_language_entry_content_name %}\n        <div class="swag-language-pack-entry__name">\n            {{ label }}\n        </div>\n        {% endblock %}\n\n        {% block swag_pack_language_entry_content_description %}\n        <div class="swag-language-pack-entry__description">\n            {{ description }}\n        </div>\n        {% endblock %}\n\n    </div>\n    {% endblock %}\n\n    {% block swag_pack_language_entry_switch %}\n    <sw-switch-field\n        v-model="value[field]"\n        ref="packLanguageToggle"\n        :disabled="disabled"\n    />\n    {% endblock %}\n</div>\n{% endblock %}\n',inject:["acl"],props:{value:{type:Object,required:!0},field:{type:String,required:!0},label:{type:String,required:!0},disabled:{type:Boolean,required:!0,default:!1},description:{type:String,required:!1,default:""},flagLocale:{type:String,required:!1,default:""}}});Shopware.Component.register("swag-language-pack-settings-icon",{template:'{% block swag_language_pack_settings_icon %}\n    <sw-icon name="default-location-flag"></sw-icon>\n{% endblock %}\n'});function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(){p=function(){return e};var e={},n=Object.prototype,a=n.hasOwnProperty,t=Object.defineProperty||function(e,n,a){e[n]=a.value},r="function"==typeof Symbol?Symbol:{},s=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function l(e,n,a){return Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[n]}try{l({},"")}catch(e){l=function(e,n,a){return e[n]=a}}function c(e,n,a,r){var s=n&&n.prototype instanceof f?n:f,i=Object.create(s.prototype),o=new P(r||[]);return t(i,"_invoke",{value:L(e,a,o)}),i}function g(e,n,a){try{return{type:"normal",arg:e.call(n,a)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var u={};function f(){}function h(){}function w(){}var v={};l(v,s,(function(){return this}));var _=Object.getPrototypeOf,m=_&&_(_(I([])));m&&m!==n&&a.call(m,s)&&(v=m);var k=w.prototype=f.prototype=Object.create(v);function y(e){["next","throw","return"].forEach((function(n){l(e,n,(function(e){return this._invoke(n,e)}))}))}function b(e,n){function r(t,s,i,o){var l=g(e[t],e,s);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==d(u)&&a.call(u,"__await")?n.resolve(u.__await).then((function(e){r("next",e,i,o)}),(function(e){r("throw",e,i,o)})):n.resolve(u).then((function(e){c.value=e,i(c)}),(function(e){return r("throw",e,i,o)}))}o(l.arg)}var s;t(this,"_invoke",{value:function(e,a){function t(){return new n((function(n,t){r(e,a,n,t)}))}return s=s?s.then(t,t):t()}})}function L(e,n,a){var t="suspendedStart";return function(r,s){if("executing"===t)throw new Error("Generator is already running");if("completed"===t){if("throw"===r)throw s;return q()}for(a.method=r,a.arg=s;;){var i=a.delegate;if(i){var o=S(i,a);if(o){if(o===u)continue;return o}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===t)throw t="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);t="executing";var l=g(e,n,a);if("normal"===l.type){if(t=a.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:a.done}}"throw"===l.type&&(t="completed",a.method="throw",a.arg=l.arg)}}}function S(e,n){var a=n.method,t=e.iterator[a];if(void 0===t)return n.delegate=null,"throw"===a&&e.iterator.return&&(n.method="return",n.arg=void 0,S(e,n),"throw"===n.method)||"return"!==a&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+a+"' method")),u;var r=g(t,e.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,u;var s=r.arg;return s?s.done?(n[e.resultName]=s.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=void 0),n.delegate=null,u):s:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,u)}function C(e){var n={tryLoc:e[0]};1 in e&&(n.catchLoc=e[1]),2 in e&&(n.finallyLoc=e[2],n.afterLoc=e[3]),this.tryEntries.push(n)}function x(e){var n=e.completion||{};n.type="normal",delete n.arg,e.completion=n}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function I(e){if(e){var n=e[s];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var t=-1,r=function n(){for(;++t<e.length;)if(a.call(e,t))return n.value=e[t],n.done=!1,n;return n.value=void 0,n.done=!0,n};return r.next=r}}return{next:q}}function q(){return{value:void 0,done:!0}}return h.prototype=w,t(k,"constructor",{value:w,configurable:!0}),t(w,"constructor",{value:h,configurable:!0}),h.displayName=l(w,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var n="function"==typeof e&&e.constructor;return!!n&&(n===h||"GeneratorFunction"===(n.displayName||n.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,l(e,o,"GeneratorFunction")),e.prototype=Object.create(k),e},e.awrap=function(e){return{__await:e}},y(b.prototype),l(b.prototype,i,(function(){return this})),e.AsyncIterator=b,e.async=function(n,a,t,r,s){void 0===s&&(s=Promise);var i=new b(c(n,a,t,r),s);return e.isGeneratorFunction(a)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(k),l(k,o,"Generator"),l(k,s,(function(){return this})),l(k,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var n=Object(e),a=[];for(var t in n)a.push(t);return a.reverse(),function e(){for(;a.length;){var t=a.pop();if(t in n)return e.value=t,e.done=!1,e}return e.done=!0,e}},e.values=I,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var n in this)"t"===n.charAt(0)&&a.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function t(a,t){return i.type="throw",i.arg=e,n.next=a,t&&(n.method="next",n.arg=void 0),!!t}for(var r=this.tryEntries.length-1;r>=0;--r){var s=this.tryEntries[r],i=s.completion;if("root"===s.tryLoc)return t("end");if(s.tryLoc<=this.prev){var o=a.call(s,"catchLoc"),l=a.call(s,"finallyLoc");if(o&&l){if(this.prev<s.catchLoc)return t(s.catchLoc,!0);if(this.prev<s.finallyLoc)return t(s.finallyLoc)}else if(o){if(this.prev<s.catchLoc)return t(s.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return t(s.finallyLoc)}}}},abrupt:function(e,n){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var s=r;break}}s&&("break"===e||"continue"===e)&&s.tryLoc<=n&&n<=s.finallyLoc&&(s=null);var i=s?s.completion:{};return i.type=e,i.arg=n,s?(this.method="next",this.next=s.finallyLoc,u):this.complete(i)},complete:function(e,n){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&n&&(this.next=n),u},finish:function(e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),x(a),u}},catch:function(e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc===e){var t=a.completion;if("throw"===t.type){var r=t.arg;x(a)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,a){return this.delegate={iterator:I(e),resultName:n,nextLoc:a},"next"===this.method&&(this.arg=void 0),u}},e}function f(e,n,a,t,r,s,i){try{var o=e[s](i),l=o.value}catch(e){return void a(e)}o.done?n(l):Promise.resolve(l).then(t,r)}function h(e){return function(){var n=this,a=arguments;return new Promise((function(t,r){var s=e.apply(n,a);function i(e){f(s,t,r,i,o,"next",e)}function o(e){f(s,t,r,i,o,"throw",e)}i(void 0)}))}}var w=Shopware,v=w.Component,_=w.Defaults,m=Shopware.Data.Criteria;v.register("swag-language-pack-settings",{template:'{% block swag_language_pack_settings %}\n<sw-page>\n\n    {% block swag_language_pack_settings_header %}\n    <template #smart-bar-header>\n        <h2>\n            {{ $tc(\'sw-settings.index.title\') }}\n            <sw-icon\n                name="regular-chevron-right-xs"\n                small\n            />\n            {{ $tc(\'swag-language-pack.settings.header\') }}\n        </h2>\n    </template>\n    {% endblock %}\n\n    {% block swag_language_pack_settings_actions %}\n    <template #smart-bar-actions>\n\n        {% block swag_language_pack_settings_actions_save %}\n        <sw-button-process\n            class="swag-language-pack-settings__save-action"\n            variant="primary"\n            :process-success="isSaveSuccessful"\n            :disabled="!acl.can(\'swag_language_pack_language:update\')"\n            @process-finish="onSaveFinish"\n            @click="onSave"\n        >\n            {{ $tc(\'global.default.save\') }}\n        </sw-button-process>\n        {% endblock %}\n\n    </template>\n    {% endblock %}\n\n    {% block swag_language_pack_settings_content %}\n    <template #content>\n\n        {% block swag_language_pack_settings_content_card_view %}\n        <sw-card-view>\n\n            {% block swag_language_pack_settings_content_tabs %}\n            <sw-tabs\n                v-if="!isLoading"\n                class="swag-language-pack-settings__tabs"\n                position-identifier="swag-language-pack-settings__tabs"\n            >\n\n                {% block swag_language_pack_settings_content_tabs_administration %}\n                <sw-tabs-item\n                    class="swag-language-pack-settings__tab-administration"\n                    :route="{ name: \'swag.language.pack.index.administration\' }"\n                    :disabled="!acl.can(\'language.viewer\')"\n                >\n                    {{ $tc(\'swag-language-pack.settings.card.administration.tabTitle\') }}\n                </sw-tabs-item>\n                {% endblock %}\n\n                {% block swag_language_pack_settings_content_tabs_sales_channel %}\n                <sw-tabs-item\n                    class="swag-language-pack-settings__tab-sales-channel"\n                    :route="{ name: \'swag.language.pack.index.salesChannel\' }"\n                    :disabled="!acl.can(\'language.viewer\')"\n                >\n                    {{ $tc(\'swag-language-pack.settings.card.salesChannel.tabTitle\') }}\n                </sw-tabs-item>\n                {% endblock %}\n            </sw-tabs>\n            {% endblock %}\n\n            {% block swag_language_pack_settings_content_router_view %}\n            <router-view\n                v-if="!isLoading"\n                :is-loading="isLoading"\n                :pack-languages="packLanguages"\n            />\n            {% endblock %}\n\n            {% block swag_language_pack_settings_content_loader %}\n            <sw-loader v-if="isLoading"/>\n            {% endblock %}\n\n            {% block swag_language_pack_settings_content_verify_user_modal %}\n            <sw-verify-user-modal\n                v-if="confirmPasswordModal"\n                @verified="savePackLanguages"\n                @close="onCloseConfirmPasswordModal"\n            />\n            {% endblock %}\n\n        </sw-card-view>\n        {% endblock %}\n\n    </template>\n    {% endblock %}\n\n</sw-page>\n{% endblock %}\n',inject:["repositoryFactory","userService","acl"],mixins:["notification"],data:function(){return{isLoading:!1,isSaveSuccessful:!1,hasChanges:!1,packLanguages:[],fallbackLocaleId:null,confirmPasswordModal:!1}},metaInfo:function(){return{title:this.$createTitle()}},computed:{packLanguageRepository:function(){return this.repositoryFactory.create("swag_language_pack_language")},languageRepository:function(){return this.repositoryFactory.create("language")},userRepository:function(){return this.repositoryFactory.create("user")},packLanguageCriteria:function(){return(new m).addSorting(m.sort("language.name","ASC")).addAssociation("language.salesChannels.domains").addAssociation("language.locale")}},created:function(){this.createdComponent()},beforeRouteLeave:function(e,n,a){a(),this.hasChanges&&window.location.reload()},methods:{createdComponent:function(){this.loadPackLanguages()},loadPackLanguages:function(){var e=this;return this.isLoading=!0,this.packLanguageRepository.search(this.packLanguageCriteria).then((function(n){e.packLanguages=n})).finally((function(){e.isLoading=!1}))},onSave:function(){this.confirmPasswordModal=!0},onSaveFinish:function(){this.isSaveSuccessful=!1},onCloseConfirmPasswordModal:function(){this.confirmPasswordModal=!1},savePackLanguages:function(){var e=this;return this.isLoading=!0,this.validateStates(this.packLanguages).then((function(){return e.packLanguageRepository.saveAll(e.packLanguages).then((function(){return e.hasChanges=!0,e.resetInvalidUserLanguages()})).catch((function(){e.createNotificationError({message:e.$tc("swag-language-pack.settings.card.messageSaveError")})}))})).catch((function(n){var a=n.map((function(e){return e.language.name})),t="<b>".concat(a.join(", "),"</b>");e.createNotificationError({message:e.$tc("swag-language-pack.settings.card.messageSalesChannelActiveError",0,{languages:t}),autoClose:!1})})).finally((function(){e.isLoading=!1,e.isSaveSuccessful=!0,e.loadPackLanguages()}))},validateStates:function(e){return new Promise((function(n,a){var t=e.filter((function(e){return!(e.salesChannelActive||e.language.salesChannels.length<=0)}));t.length>0&&a(t),n()}))},resetInvalidUserLanguages:function(){var e=this;return h(p().mark((function n(){var a,t,r,s;return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.fetchInvalidLocaleIds();case 2:if((a=n.sent)&&!(a.length<=0)){n.next=5;break}return n.abrupt("return",Promise.resolve());case 5:return n.next=7,e.userService.getUser();case 7:return t=n.sent,r=(new m).addFilter(m.equalsAny("localeId",a)),n.next=11,e.userRepository.search(r);case 11:return s=(s=n.sent).reduce((function(n,a){return a.localeId=e.fallbackLocaleId,t.data.id===a.id&&Shopware.Service("localeHelper").setLocaleWithId(a.localeId),n.push(a),n}),[]),n.abrupt("return",e.userRepository.saveAll(s));case 14:case"end":return n.stop()}}),n)})))()},fetchInvalidLocaleIds:function(){var e=this;return h(p().mark((function n(){var a,t,r,s;return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=(new m).addFilter(m.equals("extensions.swagLanguagePackLanguage.administrationActive",!1)),n.next=3,e.languageRepository.search(a);case 3:return t=n.sent,r=(new m).setIds([_.systemLanguageId]),n.next=7,e.languageRepository.search(r);case 7:return s=n.sent,e.fallbackLocaleId=s.first().localeId,n.abrupt("return",t.map((function(e){return e.localeId})));case 10:case"end":return n.stop()}}),n)})))()}}});a("H7/p");Shopware.Component.register("swag-language-pack-settings-base",{template:'{% block swag_language_pack_settings_base %}\n{% block swag_language_pack_settings_base_card_view_language_selection %}\n    <sw-card\n        class="swag-language-pack-settings-base"\n        position-identifier="swag-language-pack-settings-base"\n        :title="$tc(`swag-language-pack.settings.card.${settingsType}.title`)"\n        :disabled="isLoading"\n    >\n\n        {% block swag_language_pack_settings_base_card_view_card_loader %}\n        <sw-loader v-if="isLoading"/>\n        {% endblock %}\n\n        {% block swag_language_pack_settings_base_card_view_description%}\n        <div\n            v-html="description"\n            class="swag-language-pack-settings-base__description"\n        />\n        {% endblock %}\n\n        {% block swag_language_pack_settings_base_card_view_language_selection_languages %}\n        {% block swag_language_pack_settings_base_card_view_language_selection_language %}\n            <swag-pack-language-entry\n                v-for="packLanguage in packLanguages"\n                class="swag-language-pack-settings-base__entry"\n                :key="packLanguage.id"\n                :value="packLanguage"\n                :field="`${settingsType}Active`"\n                :label="packLanguage.language.name"\n                :description="packLanguage.language.locale?.code"\n                :flag-locale="packLanguage.language.locale?.code"\n                :disabled="!acl.can(\'swag_language_pack_language:update\')"\n            />\n        {% endblock %}\n        {% endblock %}\n\n    </sw-card>\n{% endblock %}\n{% endblock %}\n',inject:["acl"],props:{isLoading:{type:Boolean,required:!0},packLanguages:{type:Array,required:!0},settingsType:{type:String,required:!0,validator:function(e){return["administration","salesChannel"].includes(e)}}},computed:{description:function(){var e='<a href="#/sw/profile/index">\n                '.concat(this.$tc("swag-language-pack.settings.card.administration.descriptionTargetLinkText"),"\n            </a>");return this.$tc("swag-language-pack.settings.card.".concat(this.settingsType,".description"),0,{userInterfaceLanguageLink:e})}}});Shopware.Component.register("swag-language-pack-settings-administration",{template:'{% block swag_language_pack_settings_administration %}\n    <swag-language-pack-settings-base\n        :isLoading="isLoading"\n        :packLanguages="packLanguages"\n        settingsType="administration">\n    </swag-language-pack-settings-base>\n{% endblock %}',props:{isLoading:{type:Boolean,required:!0},packLanguages:{type:Array,required:!0}}});Shopware.Component.register("swag-language-pack-settings-sales-channel",{template:'{% block swag_language_pack_settings_sales_channel %}\n    <swag-language-pack-settings-base\n            :isLoading="isLoading"\n            :packLanguages="packLanguages"\n            settingsType="salesChannel">\n    </swag-language-pack-settings-base>\n{% endblock %}',props:{isLoading:{type:Boolean,required:!0},packLanguages:{type:Array,required:!0}}}),Shopware.Module.register("swag-language-pack",{type:"plugin",name:"SwagLanguagePack",title:"swag-language-pack.general.mainMenuItemGeneral",description:"swag-language-pack.general.descriptionTextModule",version:"1.0.0",targetVersion:"1.0.0",color:"#9AA8B5",icon:"regular-cog",routes:{index:{component:"swag-language-pack-settings",path:"index",redirect:{name:"swag.language.pack.index.administration"},meta:{parentPath:"sw.settings.index",privilege:"language.viewer"},children:{administration:{component:"swag-language-pack-settings-administration",path:"administration",meta:{parentPath:"sw.settings.index",privilege:"language.viewer"}},salesChannel:{component:"swag-language-pack-settings-sales-channel",path:"sales-channel",meta:{parentPath:"sw.settings.index",privilege:"language.viewer"}}}}},settingsItem:{group:"plugins",to:"swag.language.pack.index",icon:"regular-language",backgroundEnabled:!0,privilege:"language.viewer"}});a("GC3f"),a("Fi8H")},cRk3:function(e,n){var a=Shopware,t=a.Component,r=a.Defaults,s=Shopware.Data.Criteria;t.override("sw-first-run-wizard-welcome",{methods:{getLanguageCriteria:function(){return this.$super("getLanguageCriteria").addAssociation("swagLanguagePackLanguage").addSorting(s.sort("name","ASC")).addFilter(s.multi("OR",[s.equals("extensions.swagLanguagePackLanguage.id",null),s.equals("extensions.swagLanguagePackLanguage.administrationActive",!0),s.equals("id",r.systemLanguageId)])).setLimit(null)}}})},nNYt:function(e,n,a){},tnsL:function(e,n,a){var t={};function r(e){var n=s(e);return a(n)}function s(e){if(!a.o(t,e)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t[e]}r.keys=function(){return Object.keys(t)},r.resolve=s,e.exports=r,r.id="tnsL"},wX3Q:function(e,n){var a=Shopware.Component,t=Shopware.Data.Criteria;a.override("sw-sales-channel-detail-domains",{computed:{snippetSetCriteria:function(){var e=this.salesChannel.languages.map((function(e){var n;return null===(n=e.locale)||void 0===n?void 0:n.code})).filter(Boolean);return 0===e.length?this.$super("snippetSetCriteria"):this.$super("snippetSetCriteria").addFilter(t.equalsAny("iso",e))}}})},xSjI:function(e,n){var a=Shopware,t=a.Component,r=a.Defaults,s=Shopware.Data.Criteria;t.override("sw-language-switch",{computed:{languageCriteria:function(){return this.$super("languageCriteria").addFilter(s.multi("OR",[s.equals("extensions.swagLanguagePackLanguage.id",null),s.equals("extensions.swagLanguagePackLanguage.salesChannelActive",!0),s.equals("id",r.systemLanguageId)]))}}})},ydqr:function(e,n,a){"use strict";function t(e,n){for(var a=[],t={},r=0;r<n.length;r++){var s=n[r],i=s[0],o={id:e+":"+r,css:s[1],media:s[2],sourceMap:s[3]};t[i]?t[i].parts.push(o):a.push(t[i]={id:i,parts:[o]})}return a}a.r(n),a.d(n,"default",(function(){return f}));var r="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!r)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var s={},i=r&&(document.head||document.getElementsByTagName("head")[0]),o=null,l=0,c=!1,g=function(){},u=null,d="data-vue-ssr-id",p="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function f(e,n,a,r){c=a,u=r||{};var i=t(e,n);return h(i),function(n){for(var a=[],r=0;r<i.length;r++){var o=i[r];(l=s[o.id]).refs--,a.push(l)}n?h(i=t(e,n)):i=[];for(r=0;r<a.length;r++){var l;if(0===(l=a[r]).refs){for(var c=0;c<l.parts.length;c++)l.parts[c]();delete s[l.id]}}}}function h(e){for(var n=0;n<e.length;n++){var a=e[n],t=s[a.id];if(t){t.refs++;for(var r=0;r<t.parts.length;r++)t.parts[r](a.parts[r]);for(;r<a.parts.length;r++)t.parts.push(v(a.parts[r]));t.parts.length>a.parts.length&&(t.parts.length=a.parts.length)}else{var i=[];for(r=0;r<a.parts.length;r++)i.push(v(a.parts[r]));s[a.id]={id:a.id,refs:1,parts:i}}}}function w(){var e=document.createElement("style");return e.type="text/css",i.appendChild(e),e}function v(e){var n,a,t=document.querySelector("style["+d+'~="'+e.id+'"]');if(t){if(c)return g;t.parentNode.removeChild(t)}if(p){var r=l++;t=o||(o=w()),n=k.bind(null,t,r,!1),a=k.bind(null,t,r,!0)}else t=w(),n=y.bind(null,t),a=function(){t.parentNode.removeChild(t)};return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else a()}}var _,m=(_=[],function(e,n){return _[e]=n,_.filter(Boolean).join("\n")});function k(e,n,a,t){var r=a?"":t.css;if(e.styleSheet)e.styleSheet.cssText=m(n,r);else{var s=document.createTextNode(r),i=e.childNodes;i[n]&&e.removeChild(i[n]),i.length?e.insertBefore(s,i[n]):e.appendChild(s)}}function y(e,n){var a=n.css,t=n.media,r=n.sourceMap;if(t&&e.setAttribute("media",t),u.ssrId&&e.setAttribute(d,n.id),r&&(a+="\n/*# sourceURL="+r.sources[0]+" */",a+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */"),e.styleSheet)e.styleSheet.cssText=a;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(a))}}}});
//# sourceMappingURL=swag-language-pack.js.map