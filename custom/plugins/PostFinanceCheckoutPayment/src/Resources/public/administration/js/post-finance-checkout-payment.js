!function(t){var e={};function n(o){if(e[o])return e[o].exports;var i=e[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(o,i,function(e){return t[e]}.bind(null,i));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p=(window.__sw__.assetPath + '/bundles/postfinancecheckoutpayment/'),n(n.s="QPh+")}({"5VQq":function(t){t.exports=JSON.parse('{"postfinancecheckout-order":{"buttons":{"label":{"completion":"Abschluss","download-invoice":"Rechnung herunterladen","download-packing-slip":"Packzettel herunterladen","refund":"Eine neue Rückerstattung erstellen","void":"Genehmigung annullieren","refund-whole-line-item":"Gesamte Werbebuchung erstatten","refund-line-item-by-quantity":"Rückerstattung nach Menge"}},"captureAction":{"button":{"text":"Zahlung erfassen"},"currentAmount":"Betrag","isFinal":"Dies ist die endgültige Verbuchung","maxAmount":"Maximaler Betrag","successMessage":"Ihre Verbuchung war erfolgreich","successTitle":"Erfolg"},"general":{"title":"Bestellungen"},"header":"PostFinanceCheckout Payment","lineItem":{"cardTitle":"Einzelposten","types":{"amountIncludingTax":"Betrag","name":"Name","quantity":"Anzahl","taxAmount":"Steuern","type":"Typ","uniqueId":"Eindeutige ID"}},"modal":{"title":{"capture":"Erfassen","refund":"Neue Gutschrift","void":"Autorisierung aufheben"}},"paymentDetails":{"cardTitle":"Zahlung","error":{"title":"Fehler beim Abrufen von Zahlungsdetails von PostFinanceCheckout"}},"refund":{"cardTitle":"Gutschriften","refundAmount":{"label":"Gutschriftsbetrag"},"refundQuantity":{"label":"Refund Menge"},"types":{"amount":"Betrag","createdOn":"Erstellt am","id":"ID","state":"Staat"}},"refundAction":{"confirmButton":{"text":"Ausführen"},"refundAmount":{"label":"Betrag","placeholder":"Einen Betrag eingeben"},"successMessage":"Ihre Rückerstattung war erfolgreich","successTitle":"Erfolg","maxAvailableItemsToRefund":"Maximal Verfügbare Artikel zum Erstatten"},"transactionHistory":{"cardTitle":"Einzelheiten","types":{"authorized_amount":"Autorisierter Betrag","currency":"Währung","customer":"Kunde","payment_method":"Zahlungsweise","state":"Staat","transaction":"Transaktion"},"customerId":"Customer ID","customerName":"Customer Name","creditCardHolder":"Kreditkarteninhaber","paymentMethod":"Zahlungsart","paymentMethodBrand":"Marke der Zahlungsmethode","PseudoCreditCardNumber":"Pseudo-Kreditkartennummer","CardExpire":"Karte verfällt"},"voidAction":{"confirm":{"button":{"cancel":"Nein","confirm":"Autorisierung aufheben"},"message":"Wollen Sie diese Zahlung wirklich stornieren?"},"successMessage":"Die Zahlung wurde erfolgreich annulliert","successTitle":"Erfolg"}}}')},AcP2:function(t,e,n){var o=n("qeOe");o.__esModule&&(o=o.default),"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);(0,n("P8hj").default)("86a8a31c",o,!0,{})},GG1o:function(t){t.exports=JSON.parse('{"postfinancecheckout-order":{"buttons":{"label":{"completion":"Completato","download-invoice":"Scarica fattura","download-packing-slip":"Scarica distinta di imballaggio","refund":"Crea un nuovo rimborso","void":"Annulla autorizzazione","refund-whole-line-item":"Rimborso intera riga","refund-line-item-by-quantity":"Rimborso per quantità"}},"captureAction":{"button":{"text":"Cattura pagamento"},"currentAmount":"Importo","isFinal":"Questa è la cattura finale","maxAmount":"Importo massimo","successMessage":"La tua cattura ha avuto successo.","successTitle":"Successo"},"general":{"title":"Ordini"},"header":"Pagamento PostFinanceCheckout","lineItem":{"cardTitle":"Articoli di linea","types":{"amountIncludingTax":"Importo","name":"Nome","quantity":"Quantità","taxAmount":"Tasse","type":"Tipo","uniqueId":"ID unico"}},"modal":{"title":{"capture":"Cattura","refund":"Nuovo rimborso","void":"Annulla autorizzazione"}},"paymentDetails":{"cardTitle":"Pagamento","error":{"title":"Errore nel recupero dei dettagli del pagamento da PostFinanceCheckout"}},"refund":{"cardTitle":"Rimborsi","refundAmount":{"label":"Importo del rimborso"},"refundQuantity":{"label":"Quantità di rimborso"},"types":{"amount":"Importo","createdOn":"Creato il","id":"ID","state":"Stato"}},"refundAction":{"confirmButton":{"text":"Esegui"},"refundAmount":{"label":"Importo","placeholder":"Inserisci un importo"},"successMessage":"Il tuo rimborso è andato a buon fine.","successTitle":"Successo","maxAvailableItemsToRefund":"Numero massimo di articoli disponibili da rimborsare"},"transactionHistory":{"cardTitle":"Dettagli","types":{"authorized_amount":"Importo autorizzato","currency":"Valuta","customer":"Cliente","payment_method":"Metodo di pagamento","state":"Stato","transaction":"Transazione"},"customerId":"Customer ID","customerName":"Customer Name","creditCardHolder":"Proprietario della carta di credito","paymentMethod":"Metodo di pagamento","paymentMethodBrand":"Metodo di pagamento Marca","PseudoCreditCardNumber":"Numero di carta di credito pseudo","CardExpire":"La carta scade"},"voidAction":{"confirm":{"button":{"cancel":"No","confirm":"Annulla autorizzazione"},"message":"Vuoi davvero annullare questo pagamento?"},"successMessage":"Il pagamento è stato annullato con successo.","successTitle":"Successo"}}}')},I8qA:function(t,e,n){},P8hj:function(t,e,n){"use strict";function o(t,e){for(var n=[],o={},i=0;i<e.length;i++){var a=e[i],r=a[0],c={id:t+":"+i,css:a[1],media:a[2],sourceMap:a[3]};o[r]?o[r].parts.push(c):n.push(o[r]={id:r,parts:[c]})}return n}n.r(e),n.d(e,"default",(function(){return h}));var i="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!i)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var a={},r=i&&(document.head||document.getElementsByTagName("head")[0]),c=null,s=0,l=!1,u=function(){},d=null,p="data-vue-ssr-id",f="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function h(t,e,n,i){l=n,d=i||{};var r=o(t,e);return m(r),function(e){for(var n=[],i=0;i<r.length;i++){var c=r[i];(s=a[c.id]).refs--,n.push(s)}e?m(r=o(t,e)):r=[];for(i=0;i<n.length;i++){var s;if(0===(s=n[i]).refs){for(var l=0;l<s.parts.length;l++)s.parts[l]();delete a[s.id]}}}}function m(t){for(var e=0;e<t.length;e++){var n=t[e],o=a[n.id];if(o){o.refs++;for(var i=0;i<o.parts.length;i++)o.parts[i](n.parts[i]);for(;i<n.parts.length;i++)o.parts.push(b(n.parts[i]));o.parts.length>n.parts.length&&(o.parts.length=n.parts.length)}else{var r=[];for(i=0;i<n.parts.length;i++)r.push(b(n.parts[i]));a[n.id]={id:n.id,refs:1,parts:r}}}}function g(){var t=document.createElement("style");return t.type="text/css",r.appendChild(t),t}function b(t){var e,n,o=document.querySelector("style["+p+'~="'+t.id+'"]');if(o){if(l)return u;o.parentNode.removeChild(o)}if(f){var i=s++;o=c||(c=g()),e=k.bind(null,o,i,!1),n=k.bind(null,o,i,!0)}else o=g(),e=v.bind(null,o),n=function(){o.parentNode.removeChild(o)};return e(t),function(o){if(o){if(o.css===t.css&&o.media===t.media&&o.sourceMap===t.sourceMap)return;e(t=o)}else n()}}var y,_=(y=[],function(t,e){return y[t]=e,y.filter(Boolean).join("\n")});function k(t,e,n,o){var i=n?"":o.css;if(t.styleSheet)t.styleSheet.cssText=_(e,i);else{var a=document.createTextNode(i),r=t.childNodes;r[e]&&t.removeChild(r[e]),r.length?t.insertBefore(a,r[e]):t.appendChild(a)}}function v(t,e){var n=e.css,o=e.media,i=e.sourceMap;if(o&&t.setAttribute("media",o),d.ssrId&&t.setAttribute(p,e.id),i&&(n+="\n/*# sourceURL="+i.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */"),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}},PHFl:function(t,e){Shopware.Service("privileges").addPrivilegeMappingEntry({category:"permissions",parent:"postfinancecheckout",key:"postfinancecheckout",roles:{viewer:{privileges:["sales_channel:read","sales_channel_payment_method:read","system_config:read"],dependencies:[]},editor:{privileges:["sales_channel:update","sales_channel_payment_method:create","sales_channel_payment_method:update","system_config:update","system_config:create","system_config:delete"],dependencies:["postfinancecheckout.viewer"]}}}),Shopware.Service("privileges").addPrivilegeMappingEntry({category:"permissions",parent:null,key:"sales_channel",roles:{viewer:{privileges:["sales_channel_payment_method:read"]},editor:{privileges:["payment_method:update"]},creator:{privileges:["payment_method:create","shipping_method:create","delivery_time:create"]},deleter:{privileges:["payment_method:delete"]}}})},"QPh+":function(t,e,n){"use strict";n.r(e);n("AcP2");var o=Shopware,i=o.Component,a=o.Context,r=Shopware.Data.Criteria;i.override("sw-order-detail",{template:'{% block sw_order_detail_content_tabs_general %}\n    {% parent %}\n\n<sw-tabs-item v-if="isPostFinanceCheckoutPayment"\n\t\t\t  :route="{ name: \'postfinancecheckout.order.detail\', params: { id: $route.params.id } }"\n\t\t\t  :title="$tc(\'postfinancecheckout-order.header\')">\n\t{{ $tc(\'postfinancecheckout-order.header\') }}\n</sw-tabs-item>\n{% endblock %}\n\n{% block sw_order_detail_actions_slot_smart_bar_actions %}\n<template v-if="isEditable">\n\t{% parent %}\n</template>\n{% endblock %}\n',data:function(){return{isPostFinanceCheckoutPayment:!1}},computed:{isEditable:function(){return!this.isPostFinanceCheckoutPayment||"postfinancecheckout.order.detail"!==this.$route.name},showTabs:function(){return!0}},watch:{orderId:{deep:!0,handler:function(){var t=this;if(this.orderId){var e=this.repositoryFactory.create("order"),n=new r(1,1);n.addAssociation("transactions"),e.get(this.orderId,a.api,n).then((function(e){if(e.amountTotal<=0||e.transactions.length<=0||!e.transactions[0].paymentMethodId)t.setIsPostFinanceCheckoutPayment(null);else{var n=e.transactions[0].paymentMethodId;null!=n&&t.setIsPostFinanceCheckoutPayment(n)}}))}else this.setIsPostFinanceCheckoutPayment(null)},immediate:!0}},methods:{setIsPostFinanceCheckoutPayment:function(t){var e=this;t&&this.repositoryFactory.create("payment_method").get(t,a.api).then((function(t){e.isPostFinanceCheckoutPayment="handler_postfinancecheckoutpayment_postfinancecheckoutpaymenthandler"===t.formattedHandlerIdentifier}))}}});var c=Shopware,s=c.Component,l=c.Mixin,u=c.Filter,d=c.Utils;s.register("postfinancecheckout-order-action-completion",{template:'{% block postfinancecheckout_order_action_completion %}\n<sw-modal variant="small"\n\t\t  :title="$tc(`postfinancecheckout-order.modal.title.capture`)"\n\t\t  @modal-close="$emit(\'modal-close\')">\n\n\t{% block postfinancecheckout_order_action_completion_amount %}\n\t\t<sw-checkbox-field\n\t\t\t\t:label="$tc(\'postfinancecheckout-order.captureAction.button.text\')"\n\t\t\t\tv-model="isCompletion"></sw-checkbox-field>\n\t{% endblock %}\n\n\t{% block postfinancecheckout_order_action_completion_confirm_button %}\n\t<template #modal-footer>\n\t\t<sw-button variant="primary"\n\t\t\t\t   @click="completion">\n\t\t\t{{ $tc(\'postfinancecheckout-order.refundAction.confirmButton.text\') }}\n\t\t</sw-button>\n\t</template>\n\t{% endblock %}\n\n\t<sw-loader v-if="isLoading"></sw-loader>\n</sw-modal>\n{% endblock %}\n',inject:["PostFinanceCheckoutTransactionCompletionService"],mixins:[l.getByName("notification")],props:{transactionData:{type:Object,required:!0}},data:function(){return{isLoading:!0,isCompletion:!1}},computed:{dateFilter:function(){return u.getByName("date")}},created:function(){this.createdComponent()},methods:{createdComponent:function(){this.isLoading=!1},completion:function(){var t=this;this.isCompletion&&(this.isLoading=!0,this.PostFinanceCheckoutTransactionCompletionService.createTransactionCompletion(this.transactionData.transactions[0].metaData.salesChannelId,this.transactionData.transactions[0].id).then((function(){t.createNotificationSuccess({title:t.$tc("postfinancecheckout-order.captureAction.successTitle"),message:t.$tc("postfinancecheckout-order.captureAction.successMessage")}),t.isLoading=!1,t.$emit("modal-close"),t.$nextTick((function(){t.$router.replace("".concat(t.$route.path,"?hash=").concat(d.createId()))}))})).catch((function(e){try{t.createNotificationError({title:e.response.data.errors[0].title,message:e.response.data.errors[0].detail,autoClose:!1})}catch(n){t.createNotificationError({title:e.title,message:e.message,autoClose:!1})}finally{t.isLoading=!1,t.$emit("modal-close"),t.$nextTick((function(){t.$router.replace("".concat(t.$route.path,"?hash=").concat(d.createId()))}))}})))}}});var p=Shopware,f=p.Component,h=p.Mixin,m=p.Filter,g=p.Utils;f.register("postfinancecheckout-order-action-refund",{template:'{% block postfinancecheckout_order_action_refund %}\n<sw-modal variant="small"\n\t\t  :title="$tc(`postfinancecheckout-order.modal.title.refund`)"\n\t\t  @modal-close="$emit(\'modal-close\')">\n\n\t{% block postfinancecheckout_order_action_refund_amount %}\n\n\t\t<sw-number-field v-model="refundQuantity"\n\t\t\t\t\t\t :max="this.$parent.refundableQuantity"\n\t\t\t\t\t\t :min="1"\n\t\t\t\t\t\t :label="$tc(\'postfinancecheckout-order.refund.refundQuantity.label\')">\n\t\t</sw-number-field>\n\n\t\t<div>\n\t\t\t{{ $tc(\'postfinancecheckout-order.refundAction.maxAvailableItemsToRefund\') }}:\n\t\t\t<b>{{ this.$parent.refundableQuantity }}</b>\n\t\t</div>\n\t{% endblock %}\n\n\t{% block postfinancecheckout_order_action_refund_confirm_button %}\n\t<template #modal-footer>\n\t\t<sw-button variant="primary" @click="refund()">\n\t\t\t{{ $tc(\'postfinancecheckout-order.refundAction.confirmButton.text\') }}\n\t\t</sw-button>\n\t</template>\n\t{% endblock %}\n\n\t<sw-loader v-if="isLoading"></sw-loader>\n</sw-modal>\n{% endblock %}\n',inject:["PostFinanceCheckoutRefundService"],mixins:[h.getByName("notification")],props:{transactionData:{type:Object,required:!0},orderId:{type:String,required:!0}},data:function(){return{refundQuantity:1,transactionData:{},isLoading:!0,currentLineItem:""}},computed:{dateFilter:function(){return m.getByName("date")}},created:function(){this.createdComponent()},methods:{createdComponent:function(){this.isLoading=!1},refund:function(){var t=this;this.isLoading=!0,this.PostFinanceCheckoutRefundService.createRefund(this.transactionData.transactions[0].metaData.salesChannelId,this.transactionData.transactions[0].id,this.refundQuantity,this.$parent.currentLineItem).then((function(){t.createNotificationSuccess({title:t.$tc("postfinancecheckout-order.refundAction.successTitle"),message:t.$tc("postfinancecheckout-order.refundAction.successMessage")}),t.isLoading=!1,t.$emit("modal-close"),t.$nextTick((function(){t.$router.replace("".concat(t.$route.path,"?hash=").concat(g.createId()))}))})).catch((function(e){try{t.createNotificationError({title:e.response.data.errors[0].title,message:e.response.data.errors[0].detail,autoClose:!1})}catch(n){t.createNotificationError({title:e.title,message:e.message,autoClose:!1})}finally{t.isLoading=!1,t.$emit("modal-close"),t.$nextTick((function(){t.$router.replace("".concat(t.$route.path,"?hash=").concat(g.createId()))}))}}))}}});var b=Shopware,y=b.Component,_=b.Mixin,k=b.Filter,v=b.Utils;y.register("postfinancecheckout-order-action-refund-by-amount",{template:'{% block postfinancecheckout_order_action_refund_by_amount %}\n<sw-modal variant="small"\n\t\t  :title="$tc(`postfinancecheckout-order.modal.title.refund`)"\n\t\t  @modal-close="$emit(\'modal-close\')">\n\n\t{% block postfinancecheckout_order_action_refund_amount_by_amount %}\n\t\t<sw-number-field v-model="refundAmount"\n\t\t :max="refundableAmount"\n\t\t :min="0"\n\t\t :value="refundableAmount"\n\t\t :label="$tc(\'postfinancecheckout-order.refund.refundAmount.label\')"\n\t\t :suffix="currency">\n\t\t</sw-number-field>\n\t{% endblock %}\n\n\t{% block postfinancecheckout_order_action_refund_confirm_button_by_amount %}\n\t<template #modal-footer>\n\t\t<sw-button variant="primary" @click="refundByAmount()">\n\t\t\t{{ $tc(\'postfinancecheckout-order.refundAction.confirmButton.text\') }}\n\t\t</sw-button>\n\t</template>\n\t{% endblock %}\n\n\t<sw-loader v-if="isLoading"></sw-loader>\n</sw-modal>\n{% endblock %}\n',inject:["PostFinanceCheckoutRefundService"],mixins:[_.getByName("notification")],props:{transactionData:{type:Object,required:!0},orderId:{type:String,required:!0}},data:function(){return{isLoading:!0,currency:this.transactionData.transactions[0].currency,refundAmount:0,refundableAmount:0}},computed:{dateFilter:function(){return k.getByName("date")}},created:function(){this.createdComponent()},methods:{createdComponent:function(){this.isLoading=!1,this.currency=this.transactionData.transactions[0].currency,this.refundAmount=Number(this.transactionData.transactions[0].amountIncludingTax),this.refundableAmount=Number(this.transactionData.transactions[0].amountIncludingTax)},refundByAmount:function(){var t=this;this.isLoading=!0,this.PostFinanceCheckoutRefundService.createRefundByAmount(this.transactionData.transactions[0].metaData.salesChannelId,this.transactionData.transactions[0].id,this.refundAmount).then((function(){t.createNotificationSuccess({title:t.$tc("postfinancecheckout-order.refundAction.successTitle"),message:t.$tc("postfinancecheckout-order.refundAction.successMessage")}),t.isLoading=!1,t.$emit("modal-close"),t.$nextTick((function(){t.$router.replace("".concat(t.$route.path,"?hash=").concat(v.createId()))}))})).catch((function(e){try{t.createNotificationError({title:e.response.data.errors[0].title,message:e.response.data.errors[0].detail,autoClose:!1})}catch(n){t.createNotificationError({title:e.title,message:e.message,autoClose:!1})}finally{t.isLoading=!1,t.$emit("modal-close"),t.$nextTick((function(){t.$router.replace("".concat(t.$route.path,"?hash=").concat(v.createId()))}))}}))}}});var C=Shopware,I=C.Component,w=C.Mixin,O=C.Filter,S=C.Utils;I.register("postfinancecheckout-order-action-void",{template:'{% block postfinancecheckout_order_action_void %}\n<sw-modal variant="small"\n\t\t  :title="$tc(`postfinancecheckout-order.modal.title.void`)"\n\t\t  @modal-close="$emit(\'modal-close\')">\n\n\t{% block postfinancecheckout_order_action_void_amount %}\n\t\t<sw-checkbox-field\n\t\t\t\t:label="$tc(\'postfinancecheckout-order.voidAction.confirm.message\')"\n\t\t\t\tv-model="isVoid"></sw-checkbox-field>\n\t{% endblock %}\n\n\t{% block postfinancecheckout_order_action_void_confirm_button %}\n\t<template #modal-footer>\n\t\t<sw-button variant="primary"\n\t\t\t\t   @click="voidPayment">\n\t\t\t{{ $tc(\'postfinancecheckout-order.refundAction.confirmButton.text\') }}\n\t\t</sw-button>\n\t</template>\n\t{% endblock %}\n\n\t<sw-loader v-if="isLoading"></sw-loader>\n</sw-modal>\n{% endblock %}\n',inject:["PostFinanceCheckoutTransactionVoidService"],mixins:[w.getByName("notification")],props:{transactionData:{type:Object,required:!0}},data:function(){return{isLoading:!0,isVoid:!1}},computed:{dateFilter:function(){return O.getByName("date")},lineItemColumns:function(){return[{property:"uniqueId",label:this.$tc("postfinancecheckout-order.refund.types.uniqueId"),rawData:!1,allowResize:!0,primary:!0,width:"auto"},{property:"name",label:this.$tc("postfinancecheckout-order.refund.types.name"),rawData:!0,allowResize:!0,sortable:!0,width:"auto"},{property:"quantity",label:this.$tc("postfinancecheckout-order.refund.types.quantity"),rawData:!0,allowResize:!0,width:"auto"},{property:"amountIncludingTax",label:this.$tc("postfinancecheckout-order.refund.types.amountIncludingTax"),rawData:!0,allowResize:!0,inlineEdit:"string",width:"auto"},{property:"type",label:this.$tc("postfinancecheckout-order.refund.types.type"),rawData:!0,allowResize:!0,sortable:!0,width:"auto"},{property:"taxAmount",label:this.$tc("postfinancecheckout-order.refund.types.taxAmount"),rawData:!0,allowResize:!0,width:"auto"}]}},created:function(){this.createdComponent()},methods:{createdComponent:function(){this.isLoading=!1,this.currency=this.transactionData.transactions[0].currency,this.refundableAmount=this.transactionData.transactions[0].amountIncludingTax,this.refundAmount=this.transactionData.transactions[0].amountIncludingTax},voidPayment:function(){var t=this;this.isVoid&&(this.isLoading=!0,this.PostFinanceCheckoutTransactionVoidService.createTransactionVoid(this.transactionData.transactions[0].metaData.salesChannelId,this.transactionData.transactions[0].id).then((function(){t.createNotificationSuccess({title:t.$tc("postfinancecheckout-order.voidAction.successTitle"),message:t.$tc("postfinancecheckout-order.voidAction.successMessage")}),t.isLoading=!1,t.$emit("modal-close"),t.$nextTick((function(){t.$router.replace("".concat(t.$route.path,"?hash=").concat(S.createId()))}))})).catch((function(e){try{t.createNotificationError({title:e.response.data.errors[0].title,message:e.response.data.errors[0].detail,autoClose:!1})}catch(n){t.createNotificationError({title:e.title,message:e.message,autoClose:!1})}finally{t.isLoading=!1,t.$emit("modal-close"),t.$nextTick((function(){t.$router.replace("".concat(t.$route.path,"?hash=").concat(S.createId()))}))}})))}}});n("S4uP");var E=Shopware,N=E.Component,P=E.Mixin,T=E.Filter,F=E.Context,D=E.Utils,A=Shopware.Data.Criteria;N.register("postfinancecheckout-order-detail",{template:'{% block postfinancecheckout_order_detail %}\n<div class="postfinancecheckout-order-detail">\n\t<div v-if="!isLoading">\n\t\t<sw-card :title="$tc(\'postfinancecheckout-order.paymentDetails.cardTitle\')">\n\t\t\t<template #grid>\n\t\t\t\t{% block postfinancecheckout_order_actions_section %}\n\t\t\t\t<sw-card-section secondary slim>\n\t\t\t\t\t{% block postfinancecheckout_order_transaction_refunds_action_button %}\n\t\t\t\t\t\t<sw-button\n\t\t\t\t\t\t\t\tvariant="primary"\n\t\t\t\t\t\t\t\tsize="small"\n\t\t\t\t\t\t\t\t:disabled="transaction.state != \'FULFILL\' || refundableAmount <= 0"\n\t\t\t\t\t\t\t\t@click="spawnModal(\'refundByAmount\')">\n\t\t\t\t\t\t\t{{ $tc(\'postfinancecheckout-order.buttons.label.refund\') }}\n\t\t\t\t\t\t</sw-button>\n\t\t\t\t\t{% endblock %}\n\t\t\t\t\t{% block postfinancecheckout_order_transaction_completion_action_button %}\n\t\t\t\t\t<sw-button\n\t\t\t\t\t\t\tvariant="primary"\n\t\t\t\t\t\t\tsize="small"\n\t\t\t\t\t\t\t:disabled="transaction.state != \'AUTHORIZED\' || isLoading"\n\t\t\t\t\t\t\t@click="spawnModal(\'completion\')">\n\t\t\t\t\t\t{{ $tc(\'postfinancecheckout-order.buttons.label.completion\') }}\n\t\t\t\t\t</sw-button>\n\t\t\t\t\t{% endblock %}\n\t\t\t\t\t{% block postfinancecheckout_order_transaction_void_action_button %}\n\t\t\t\t\t<sw-button\n\t\t\t\t\t\t\tvariant="primary"\n\t\t\t\t\t\t\tsize="small"\n\t\t\t\t\t\t\t:disabled="transaction.state != \'AUTHORIZED\' || isLoading"\n\t\t\t\t\t\t\t@click="spawnModal(\'void\')">\n\t\t\t\t\t\t{{ $tc(\'postfinancecheckout-order.buttons.label.void\') }}\n\t\t\t\t\t</sw-button>\n\t\t\t\t\t{% endblock %}\n\t\t\t\t\t{% block postfinancecheckout_order_transaction_download_invoice_action_button %}\n\t\t\t\t\t<sw-button\n\t\t\t\t\t\t\tvariant="primary"\n\t\t\t\t\t\t\tsize="small"\n\t\t\t\t\t\t\t:disabled="transaction.state != \'FULFILL\'"\n\t\t\t\t\t\t\t@click="downloadInvoice()">\n\t\t\t\t\t\t{{ $tc(\'postfinancecheckout-order.buttons.label.download-invoice\') }}\n\t\t\t\t\t</sw-button>\n\t\t\t\t\t{% endblock %}\n\t\t\t\t\t{% block postfinancecheckout_order_transaction_download_packing_slip_action_button %}\n\t\t\t\t\t<sw-button\n\t\t\t\t\t\t\tvariant="primary"\n\t\t\t\t\t\t\tsize="small"\n\t\t\t\t\t\t\t:disabled="transaction.state != \'FULFILL\'"\n\t\t\t\t\t\t\t@click="downloadPackingSlip()">\n\t\t\t\t\t\t{{ $tc(\'postfinancecheckout-order.buttons.label.download-packing-slip\') }}\n\t\t\t\t\t</sw-button>\n\t\t\t\t\t{% endblock %}\n\t\t\t\t</sw-card-section>\n\t\t\t\t{% endblock %}\n\t\t\t</template>\n\t\t</sw-card>\n\t\t{% block postfinancecheckout_order_transaction_history_card %}\n\t\t<sw-card :title="$tc(\'postfinancecheckout-order.transactionHistory.cardTitle\')">\n\t\t\t<template #grid>\n\n\t\t\t\t{% block postfinancecheckout_order_transaction_history_grid %}\n\t\t\t\t<sw-data-grid :dataSource="transactionData.transactions"\n\t\t\t\t\t\t\t  :columns="relatedResourceColumns"\n\t\t\t\t\t\t\t  :showActions="true"\n\t\t\t\t\t\t\t  :showSelection="false">\n\n\t\t\t\t\t<template #actions="{ item }">\n\t\t\t\t\t\t<sw-context-menu-item v-if="item.customerId">{{ $tc(\'postfinancecheckout-order.transactionHistory.customerId\') }}: {{ item.customerId }}</sw-context-menu-item>\n\t\t\t\t\t\t<sw-context-menu-item v-if="item.customerName">{{ $tc(\'postfinancecheckout-order.transactionHistory.customerName\') }}: {{ item.customerName }}</sw-context-menu-item>\n\t\t\t\t\t\t<sw-context-menu-item v-if="item.creditCardHolder">{{ $tc(\'postfinancecheckout-order.transactionHistory.creditCardHolder\') }}: {{ item.creditCardHolder }}</sw-context-menu-item>\n\t\t\t\t\t\t<sw-context-menu-item v-if="item.paymentMethodName">{{ $tc(\'postfinancecheckout-order.transactionHistory.paymentMethod\') }}: {{ item.paymentMethodName }}</sw-context-menu-item>\n\t\t\t\t\t\t<sw-context-menu-item v-if="item.brandName">{{ $tc(\'postfinancecheckout-order.transactionHistory.paymentMethodBrand\') }}: {{ item.brandName }}</sw-context-menu-item>\n\t\t\t\t\t\t<sw-context-menu-item v-if="item.pseudoCardNumber">{{ $tc(\'postfinancecheckout-order.transactionHistory.PseudoCreditCardNumber\') }}: {{ item.pseudoCardNumber }}</sw-context-menu-item>\n\t\t\t\t\t\t<sw-context-menu-item v-if="item.pseudoCardNumber && item.cardExpireMonth && item.cardExpireYear">{{ $tc(\'postfinancecheckout-order.transactionHistory.CardExpire\') }}: {{ item.cardExpireMonth }} / {{ item.cardExpireYear }}</sw-context-menu-item>\n\t\t\t\t\t\t<sw-context-menu-item v-if="item.payId">PayID: {{ item.payId }}</sw-context-menu-item>\n\t\t\t\t\t</template>\n\t\t\t\t</sw-data-grid>\n\t\t\t\t{% endblock %}\n\t\t\t</template>\n\n\t\t</sw-card>\n\t\t{% endblock %}\n\t\t{% block postfinancecheckout_order_transaction_line_items_card %}\n\t\t<sw-card :title="$tc(\'postfinancecheckout-order.lineItem.cardTitle\')">\n\t\t\t<template #grid>\n\n\t\t\t\t{% block postfinancecheckout_order_transaction_line_items_grid %}\n\t\t\t\t<sw-data-grid\n\t\t\t\t\t\t:dataSource="lineItems"\n\t\t\t\t\t\t:columns="lineItemColumns"\n\t\t\t\t\t\t:showActions="true"\n\t\t\t\t\t\t:showSelection="false">\n\n\t\t\t\t\t{% block postfinancecheckout_order_transaction_line_items_grid_grid_actions %}\n\t\t\t\t\t\t<template #actions="{ item }">\n\t\t\t\t\t\t\t\t<sw-context-menu-item\n\t\t\t\t\t\t\t\t\t:disabled="transaction.state != \'FULFILL\' || item.refundableQuantity != item.quantity"\n\t\t\t\t\t\t\t\t    icon="default-money-cash"\n\t\t\t\t\t\t\t\t    @click="lineItemRefund(item.uniqueId)">\n\t\t\t\t\t\t\t\t\t{{ $tc(\'postfinancecheckout-order.buttons.label.refund-whole-line-item\') }}\n\t\t\t\t\t\t\t\t</sw-context-menu-item>\n\n\t\t\t\t\t\t\t\t<sw-context-menu-item\n\t\t\t\t\t\t\t\t\t\t:disabled="transaction.state != \'FULFILL\' || item.refundableQuantity == 0"\n\t\t\t\t\t\t\t\t\t\ticon="default-money-cash"\n\t\t\t\t\t\t\t\t\t\t@click="spawnModal(\'refund\', item.uniqueId, item.refundableQuantity)">\n\t\t\t\t\t\t\t\t\t{{ $tc(\'postfinancecheckout-order.buttons.label.refund-line-item-by-quantity\') }}\n\t\t\t\t\t\t\t\t</sw-context-menu-item>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t{% endblock %}\n\t\t\t\t</sw-data-grid>\n\t\t\t\t{% endblock %}\n\t\t\t</template>\n\t\t</sw-card>\n\t\t{% endblock %}\n\t\t{% block postfinancecheckout_order_transaction_refunds_card %}\n\t\t<sw-card :title="$tc(\'postfinancecheckout-order.refund.cardTitle\')" v-if="transactionData.refunds.length > 0">\n\t\t\t<template #grid>\n\n\t\t\t\t{% block postfinancecheckout_order_transaction_refunds_grid %}\n\t\t\t\t<sw-data-grid\n\t\t\t\t\t\t:dataSource="transactionData.refunds"\n\t\t\t\t\t\t:columns="refundColumns"\n\t\t\t\t\t\t:showActions="false"\n\t\t\t\t\t\t:showSelection="false">\n\t\t\t\t</sw-data-grid>\n\t\t\t\t{% endblock %}\n\t\t\t</template>\n\n\t\t</sw-card>\n\t\t{% endblock %}\n\t\t{% block postfinancecheckout_order_actions_modal_refund %}\n\t\t<postfinancecheckout-order-action-refund\n\t\t\t\tv-if="modalType === \'refund\'"\n\t\t\t\t:orderId="orderId"\n\t\t\t\t:transactionData="transactionData"\n\t\t\t\t:lineItems="lineItems"\n\t\t\t\t@modal-close="closeModal">\n\t\t</postfinancecheckout-order-action-refund>\n\t\t{% endblock %}\n\t\t{% block postfinancecheckout_order_actions_modal_refund_by_amount %}\n\t\t\t<postfinancecheckout-order-action-refund-by-amount\n\t\t\t\t\tv-if="modalType === \'refundByAmount\'"\n\t\t\t\t\t:orderId="orderId"\n\t\t\t\t\t:transactionData="transactionData"\n\t\t\t\t\t:lineItems="lineItems"\n\t\t\t\t\t@modal-close="closeModal">\n\t\t\t</postfinancecheckout-order-action-refund-by-amount>\n\t\t{% endblock %}\n\t\t{% block postfinancecheckout_order_actions_modal_completion%}\n\t\t<postfinancecheckout-order-action-completion\n\t\t\t\tv-if="modalType === \'completion\'"\n\t\t\t\t:orderId="orderId"\n\t\t\t\t:transactionData="transactionData"\n\t\t\t\t:lineItems="lineItems"\n\t\t\t\t@modal-close="closeModal">\n\t\t</postfinancecheckout-order-action-completion>\n\t\t{% endblock %}\n\t\t{% block postfinancecheckout_order_actions_modal_void %}\n\t\t<postfinancecheckout-order-action-void\n\t\t\t\tv-if="modalType === \'void\'"\n\t\t\t\t:orderId="orderId"\n\t\t\t\t:transactionData="transactionData"\n\t\t\t\t:lineItems="lineItems"\n\t\t\t\t@modal-close="closeModal">\n\t\t</postfinancecheckout-order-action-void>\n\t\t{% endblock %}\n\t</div>\n\t<sw-loader v-if="isLoading"></sw-loader>\n</div>\n{% endblock %}\n',inject:["PostFinanceCheckoutTransactionService","PostFinanceCheckoutRefundService","repositoryFactory"],mixins:[P.getByName("notification")],data:function(){return{transactionData:{transactions:[],refunds:[]},transaction:{},lineItems:[],refundableQuantity:0,isLoading:!0,orderId:"",currency:"",modalType:"",refundAmount:0,refundableAmount:0,currentLineItem:"",refundLineItem:[]}},metaInfo:function(){return{title:this.$tc("postfinancecheckout-order.header")}},computed:{dateFilter:function(){return T.getByName("date")},relatedResourceColumns:function(){return[{property:"paymentMethodName",label:this.$tc("postfinancecheckout-order.transactionHistory.types.payment_method"),rawData:!0},{property:"state",label:this.$tc("postfinancecheckout-order.transactionHistory.types.state"),rawData:!0},{property:"currency",label:this.$tc("postfinancecheckout-order.transactionHistory.types.currency"),rawData:!0},{property:"authorized_amount",label:this.$tc("postfinancecheckout-order.transactionHistory.types.authorized_amount"),rawData:!0},{property:"id",label:this.$tc("postfinancecheckout-order.transactionHistory.types.transaction"),rawData:!0},{property:"customerId",label:this.$tc("postfinancecheckout-order.transactionHistory.types.customer"),rawData:!0}]},lineItemColumns:function(){return[{property:"uniqueId",label:this.$tc("postfinancecheckout-order.lineItem.types.uniqueId"),rawData:!0,visible:!1,primary:!0},{property:"name",label:this.$tc("postfinancecheckout-order.lineItem.types.name"),rawData:!0},{property:"quantity",label:this.$tc("postfinancecheckout-order.lineItem.types.quantity"),rawData:!0},{property:"amountIncludingTax",label:this.$tc("postfinancecheckout-order.lineItem.types.amountIncludingTax"),rawData:!0},{property:"type",label:this.$tc("postfinancecheckout-order.lineItem.types.type"),rawData:!0},{property:"taxAmount",label:this.$tc("postfinancecheckout-order.lineItem.types.taxAmount"),rawData:!0},{property:"refundableQuantity",rawData:!0,visible:!1}]},refundColumns:function(){return[{property:"id",label:this.$tc("postfinancecheckout-order.refund.types.id"),rawData:!0,visible:!0,primary:!0},{property:"amount",label:this.$tc("postfinancecheckout-order.refund.types.amount"),rawData:!0},{property:"state",label:this.$tc("postfinancecheckout-order.refund.types.state"),rawData:!0},{property:"createdOn",label:this.$tc("postfinancecheckout-order.refund.types.createdOn"),rawData:!0}]}},watch:{$route:function(){this.resetDataAttributes(),this.createdComponent()}},created:function(){this.createdComponent()},methods:{createdComponent:function(){var t=this;this.orderId=this.$route.params.id;var e=this.repositoryFactory.create("order"),n=new A(1,1);n.addAssociation("transactions"),n.getAssociation("transactions").addSorting(A.sort("createdAt","DESC")),e.get(this.orderId,F.api,n).then((function(e){t.order=e,t.isLoading=!1;var n=0,o=0,i=e.transactions[0].customFields.postfinancecheckout_transaction_id;t.PostFinanceCheckoutTransactionService.getTransactionData(e.salesChannelId,i).then((function(e){t.currency=e.transactions[0].currency,e.transactions[0].authorized_amount=D.format.currency(e.transactions[0].authorizationAmount,t.currency),e.refunds.forEach((function(e){o=parseFloat(parseFloat(o)+parseFloat(e.amount)),e.amount=D.format.currency(e.amount,t.currency),e.reductions.forEach((function(e){void 0===t.refundLineItem[e.lineItemUniqueId]?t.refundLineItem[e.lineItemUniqueId]=e.quantityReduction:t.refundLineItem[e.lineItemUniqueId]+=e.quantityReduction}))})),e.transactions[0].lineItems.forEach((function(e){e.amountIncludingTax=D.format.currency(e.amountIncludingTax,t.currency),e.taxAmount=D.format.currency(e.taxAmount,t.currency),n=parseFloat(parseFloat(n)+parseFloat(e.unitPriceIncludingTax*e.quantity)),e.refundableQuantity=parseInt(parseInt(e.quantity)-parseInt(t.refundLineItem[e.uniqueId]||0))})),t.lineItems=e.transactions[0].lineItems,t.transactionData=e,t.transaction=t.transactionData.transactions[0],t.refundAmount=Number(t.transactionData.transactions[0].amountIncludingTax),t.refundableAmount=parseFloat(parseFloat(n)-parseFloat(o))})).catch((function(e){try{t.createNotificationError({title:t.$tc("postfinancecheckout-order.paymentDetails.error.title"),message:e.message,autoClose:!1})}catch(n){t.createNotificationError({title:t.$tc("postfinancecheckout-order.paymentDetails.error.title"),message:e.message,autoClose:!1})}finally{t.isLoading=!1}}))}))},downloadPackingSlip:function(){window.open(this.PostFinanceCheckoutTransactionService.getPackingSlip(this.transaction.metaData.salesChannelId,this.transaction.id),"_blank")},downloadInvoice:function(){window.open(this.PostFinanceCheckoutTransactionService.getInvoiceDocument(this.transaction.metaData.salesChannelId,this.transaction.id),"_blank")},resetDataAttributes:function(){this.transactionData={transactions:[],refunds:[]},this.lineItems=[],this.refundLineItem=[],this.isLoading=!0},spawnModal:function(t,e,n){this.modalType=t,this.currentLineItem=e,this.refundableQuantity=n},closeModal:function(){this.modalType=""},lineItemRefund:function(t){var e=this;this.isLoading=!0,this.PostFinanceCheckoutRefundService.createRefund(this.transactionData.transactions[0].metaData.salesChannelId,this.transactionData.transactions[0].id,0,t).then((function(){e.createNotificationSuccess({title:e.$tc("postfinancecheckout-order.refundAction.successTitle"),message:e.$tc("postfinancecheckout-order.refundAction.successMessage")}),e.isLoading=!1,e.$emit("modal-close"),e.$nextTick((function(){e.$router.replace("".concat(e.$route.path,"?hash=").concat(D.createId()))}))})).catch((function(t){try{e.createNotificationError({title:t.response.data.errors[0].title,message:t.response.data.errors[0].detail,autoClose:!1})}catch(n){e.createNotificationError({title:t.title,message:t.message,autoClose:!1})}finally{e.isLoading=!1,e.$emit("modal-close"),e.$nextTick((function(){e.$router.replace("".concat(e.$route.path,"?hash=").concat(D.createId()))}))}}))}}});var x=n("5VQq"),L=n("hKY3"),$=n("eUZl"),R=n("GG1o");Shopware.Module.register("postfinancecheckout-order",{type:"plugin",name:"PostFinanceCheckout",title:"postfinancecheckout-order.general.title",description:"postfinancecheckout-order.general.descriptionTextModule",version:"1.0.0",targetVersion:"1.0.0",color:"#2b52ff",snippets:{"de-DE":x,"en-GB":L,"fr-FR":$,"it-IT":R},routeMiddleware:function(t,e){"sw.order.detail"===e.name&&e.children.push({component:"postfinancecheckout-order-detail",name:"postfinancecheckout.order.detail",isChildren:!0,path:"/sw/order/postfinancecheckout/detail/:id"}),t(e)}});n("PHFl");var j="PostFinanceCheckoutPayment.config",B={CONFIG_DOMAIN:j,CONFIG_APPLICATION_KEY:"PostFinanceCheckoutPayment.config.applicationKey",CONFIG_EMAIL_ENABLED:"PostFinanceCheckoutPayment.config.emailEnabled",CONFIG_INTEGRATION:"PostFinanceCheckoutPayment.config.integration",CONFIG_LINE_ITEM_CONSISTENCY_ENABLED:"PostFinanceCheckoutPayment.config.lineItemConsistencyEnabled",CONFIG_SPACE_ID:"PostFinanceCheckoutPayment.config.spaceId",CONFIG_SPACE_VIEW_ID:"PostFinanceCheckoutPayment.config.spaceViewId",CONFIG_STOREFRONT_INVOICE_DOWNLOAD_ENABLED:"PostFinanceCheckoutPayment.config.storefrontInvoiceDownloadEnabled",CONFIG_USER_ID:"PostFinanceCheckoutPayment.config.userId",CONFIG_IS_SHOWCASE:"PostFinanceCheckoutPayment.config.isShowcase",CONFIG_STOREFRONT_WEBHOOKS_UPDATE_ENABLED:"PostFinanceCheckoutPayment.config.storefrontWebhooksUpdateEnabled",CONFIG_STOREFRONT_PAYMENTS_UPDATE_ENABLED:"PostFinanceCheckoutPayment.config.storefrontPaymentsUpdateEnabled"};function M(t){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function G(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function V(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==M(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!==M(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===M(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var q=Shopware,U=q.Component,H=q.Mixin;U.register("postfinancecheckout-settings",{template:'{% block postfinancecheckout_settings %}\n<sw-page class="postfinancecheckout-settings">\n\n\t{% block postfinancecheckout_settings_header %}\n\t<template #smart-bar-header>\n\t\t<h2>\n\t\t\t{{ $tc(\'sw-settings.index.title\') }}\n\t\t\t<sw-icon name="small-arrow-medium-right" small></sw-icon>\n\t\t\t{{ $tc(\'postfinancecheckout-settings.header\') }}\n\t\t</h2>\n\t</template>\n\t{% endblock %}\n\n\t{% block postfinancecheckout_settings_actions %}\n\t<template #smart-bar-actions>\n\t\t{% block postfinancecheckout_settings_actions_save %}\n\t\t<sw-button-process\n\t\t\t\tv-model="isSaveSuccessful"\n\t\t\t\tclass="sw-settings-login-registration__save-action"\n\t\t\t\tvariant="primary"\n\t\t\t\t:isLoading="isLoading"\n\t\t\t\t:disabled="isLoading"\n\t\t\t\t@click="onSave">\n\t\t\t{{ $tc(\'postfinancecheckout-settings.settingForm.save\') }}\n\t\t</sw-button-process>\n\t\t{% endblock %}\n\t</template>\n\t{% endblock %}\n\n\t{% block postfinancecheckout_settings_content %}\n\t<template #content>\n\n\t\t{% block postfinancecheckout_settings_content_card %}\n\t\t<sw-card-view>\n\n\t\t\t{% block postfinancecheckout_settings_content_card_channel_config %}\n\t\t\t<sw-sales-channel-config v-model="config"\n\t\t\t\t\t\t\t\t\t ref="configComponent"\n\t\t\t\t\t\t\t\t\t :domain="CONFIG_DOMAIN">\n\n\t\t\t\t{% block postfinancecheckout_settings_content_card_channel_config_sales_channel %}\n\t\t\t\t<template #select="{ onInput, selectedSalesChannelId, salesChannel }">\n\n\t\t\t\t\t{% block postfinancecheckout_settings_content_card_channel_config_sales_channel_card %}\n\t\t\t\t\t<sw-card title="Sales Channel Switch">\n\n\t\t\t\t\t\t{% block postfinancecheckout_settings_content_card_channel_config_sales_channel_card_title %}\n\t\t\t\t\t\t<sw-single-select\n\t\t\t\t\t\t\t\tv-model="selectedSalesChannelId"\n\t\t\t\t\t\t\t\tlabelProperty="translated.name"\n\t\t\t\t\t\t\t\tvalueProperty="id"\n\t\t\t\t\t\t\t\t:options="salesChannel"\n\t\t\t\t\t\t\t\t:disabled="isShowcase"\n\t\t\t\t\t\t\t\t@change="onInput">\n\t\t\t\t\t\t</sw-single-select>\n\t\t\t\t\t\t{% endblock %}\n\t\t\t\t\t\t{% block postfinancecheckout_settings_content_card_channel_config_sales_channel_card_footer %}\n\t\t\t\t\t\t<template #footer>\n\n\t\t\t\t\t\t\t{% block postfinancecheckout_settings_content_card_channel_config_sales_channel_card_footer_container %}\n\t\t\t\t\t\t\t<sw-container columns="2fr 1fr" gap="0px 30px">\n\n\t\t\t\t\t\t\t\t{% block postfinancecheckout_settings_content_card_channel_config_sales_channel_card_footer_container_text %}\n\t\t\t\t\t\t\t\t<p>{{ $tc(\'postfinancecheckout-settings.salesChannelCard.button.description\') }}</p>\n\t\t\t\t\t\t\t\t{% endblock %}\n\n\t\t\t\t\t\t\t\t{% block postfinancecheckout_settings_content_card_channel_config_sales_channel_card_footer_container_button %}\n\t\t\t\t\t\t\t\t<sw-button-process\n\t\t\t\t\t\t\t\t\t\tv-model="isSetDefaultPaymentSuccessful"\n\t\t\t\t\t\t\t\t\t\t:isLoading="isSettingDefaultPaymentMethods"\n\t\t\t\t\t\t\t\t\t\t@click="onSetPaymentMethodDefault">\n\t\t\t\t\t\t\t\t\t{{ $tc(\'postfinancecheckout-settings.salesChannelCard.button.label\') }}\n\t\t\t\t\t\t\t\t</sw-button-process>\n\t\t\t\t\t\t\t\t{% endblock %}\n\t\t\t\t\t\t\t</sw-container>\n\t\t\t\t\t\t\t{% endblock %}\n\t\t\t\t\t\t</template>\n\t\t\t\t\t\t{% endblock %}\n\t\t\t\t\t</sw-card>\n\t\t\t\t\t{% endblock %}\n\t\t\t\t</template>\n\t\t\t\t{% endblock %}\n\n\t\t\t\t{% block postfinancecheckout_settings_content_card_channel_config_cards %}\n\t\t\t\t<template #content="{ actualConfigData, allConfigs, selectedSalesChannelId }">\n\t\t\t\t\t<div v-if="actualConfigData">\n\n\t\t\t\t\t\t<sw-postfinancecheckout-credentials\n\t\t\t\t\t\t\t\t:actualConfigData="actualConfigData"\n\t\t\t\t\t\t\t\t:allConfigs="allConfigs"\n\t\t\t\t\t\t\t\t:selectedSalesChannelId="selectedSalesChannelId"\n\t\t\t\t\t\t\t\t:spaceIdErrorState="spaceIdErrorState"\n\t\t\t\t\t\t\t\t:userIdErrorState="userIdErrorState"\n\t\t\t\t\t\t\t\t:applicationKeyErrorState="applicationKeyErrorState"\n\t\t\t\t\t\t\t\t:spaceIdFilled="spaceIdFilled"\n\t\t\t\t\t\t\t\t:userIdFilled="userIdFilled"\n\t\t\t\t\t\t\t\t:applicationKeyFilled="applicationKeyFilled"\n\t\t\t\t\t\t\t\t:isLoading="isLoading"\n\t\t\t\t\t\t\t\t:isTesting="isTesting"\n\t\t\t\t\t\t\t\t:isShowcase="isShowcase"\n\t\t\t\t\t\t\t\t@check-api-connection-event="onCheckApiConnection"\n\t\t\t\t\t\t></sw-postfinancecheckout-credentials>\n\n\t\t\t\t\t\t<sw-postfinancecheckout-options\n\t\t\t\t\t\t\t\t:actualConfigData="actualConfigData"\n\t\t\t\t\t\t\t\t:allConfigs="allConfigs"\n\t\t\t\t\t\t\t\t:isLoading="isLoading"\n\t\t\t\t\t\t\t\t:selectedSalesChannelId="selectedSalesChannelId"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t</sw-postfinancecheckout-options>\n\n\t\t\t\t\t\t<sw-postfinancecheckout-storefront-options\n\t\t\t\t\t\t\t\t:actualConfigData="actualConfigData"\n\t\t\t\t\t\t\t\t:allConfigs="allConfigs"\n\t\t\t\t\t\t\t\t:isLoading="isLoading"\n\t\t\t\t\t\t\t\t:selectedSalesChannelId="selectedSalesChannelId"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t</sw-postfinancecheckout-storefront-options>\n\n\t\t\t\t\t\t<sw-postfinancecheckout-advanced-options\n\t\t\t\t\t\t\t\t:actualConfigData="actualConfigData"\n\t\t\t\t\t\t\t\t:allConfigs="allConfigs"\n\t\t\t\t\t\t\t\t:isLoading="isLoading"\n\t\t\t\t\t\t\t\t:selectedSalesChannelId="selectedSalesChannelId"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t</sw-postfinancecheckout-advanced-options>\n\n\n\t\t\t\t\t</div>\n\t\t\t\t</template>\n\t\t\t\t{% endblock %}\n\n\t\t\t</sw-sales-channel-config>\n\t\t\t{% endblock %}\n\n\t\t\t{% block postfinancecheckout_settings_content_card_loading %}\n\t\t\t<sw-loader v-if="isLoading"></sw-loader>\n\t\t\t{% endblock %}\n\t\t</sw-card-view>\n\t\t{% endblock %}\n\n\t</template>\n\t{% endblock %}\n</sw-page>\n{% endblock %}',inject:["PostFinanceCheckoutConfigurationService"],mixins:[H.getByName("notification")],data:function(){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?G(Object(n),!0).forEach((function(e){V(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):G(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({config:{},isLoading:!1,isTesting:!1,isSaveSuccessful:!1,isShowcase:!1,applicationKeyFilled:!1,applicationKeyErrorState:!1,spaceIdFilled:!1,spaceIdErrorState:!1,userIdFilled:!1,userIdErrorState:!1,isSetDefaultPaymentSuccessful:!1,isSettingDefaultPaymentMethods:!1,configIntegrationDefaultValue:"iframe",configEmailEnabledDefaultValue:!0,configLineItemConsistencyEnabledDefaultValue:!0,configStorefrontInvoiceDownloadEnabledEnabledDefaultValue:!0,configStorefrontWebhooksUpdateEnabledDefaultValue:!0,configStorefrontPaymentsUpdateEnabledDefaultValue:!0},B)},props:{isLoading:{type:Boolean,required:!0}},metaInfo:function(){return{title:this.$createTitle()}},created:function(){this.$on("check-api-connection-event",this.onCheckApiConnection)},beforeDestroy:function(){this.$off("check-api-connection-event",this.onCheckApiConnection)},watch:{config:{handler:function(){var t=this.$refs.configComponent.allConfigs.null,e=this.$refs.configComponent.selectedSalesChannelId;this.isShowcase=this.config[this.CONFIG_IS_SHOWCASE],null===e?(this.applicationKeyFilled=!!this.config[this.CONFIG_APPLICATION_KEY],this.spaceIdFilled=!!this.config[this.CONFIG_SPACE_ID],this.userIdFilled=!!this.config[this.CONFIG_USER_ID],this.CONFIG_INTEGRATION in this.config||(this.config[this.CONFIG_INTEGRATION]=this.configIntegrationDefaultValue),this.CONFIG_EMAIL_ENABLED in this.config||(this.config[this.CONFIG_EMAIL_ENABLED]=this.configEmailEnabledDefaultValue),this.CONFIG_LINE_ITEM_CONSISTENCY_ENABLED in this.config||(this.config[this.CONFIG_LINE_ITEM_CONSISTENCY_ENABLED]=this.configLineItemConsistencyEnabledDefaultValue),this.CONFIG_STOREFRONT_INVOICE_DOWNLOAD_ENABLED in this.config||(this.config[this.CONFIG_STOREFRONT_INVOICE_DOWNLOAD_ENABLED]=this.configStorefrontInvoiceDownloadEnabledEnabledDefaultValue),this.CONFIG_STOREFRONT_WEBHOOKS_UPDATE_ENABLED in this.config||(this.config[this.CONFIG_STOREFRONT_WEBHOOKS_UPDATE_ENABLED]=this.configStorefrontWebhooksUpdateEnabledDefaultValue),this.CONFIG_STOREFRONT_PAYMENTS_UPDATE_ENABLED in this.config||(this.config[this.CONFIG_STOREFRONT_PAYMENTS_UPDATE_ENABLED]=this.configStorefrontPaymentsUpdateEnabledDefaultValue)):(this.applicationKeyFilled=!!this.config[this.CONFIG_APPLICATION_KEY]||!!t[this.CONFIG_APPLICATION_KEY],this.spaceIdFilled=!!this.config[this.CONFIG_SPACE_ID]||!!t[this.CONFIG_SPACE_ID],this.userIdFilled=!!this.config[this.CONFIG_USER_ID]||!!t[this.CONFIG_USER_ID],this.CONFIG_INTEGRATION in this.config&&this.CONFIG_INTEGRATION in t||(this.config[this.CONFIG_INTEGRATION]=this.configIntegrationDefaultValue),this.CONFIG_EMAIL_ENABLED in this.config&&this.CONFIG_EMAIL_ENABLED in t||(this.config[this.CONFIG_EMAIL_ENABLED]=this.configEmailEnabledDefaultValue),this.CONFIG_LINE_ITEM_CONSISTENCY_ENABLED in this.config&&this.CONFIG_LINE_ITEM_CONSISTENCY_ENABLED in t||(this.config[this.CONFIG_LINE_ITEM_CONSISTENCY_ENABLED]=this.configLineItemConsistencyEnabledDefaultValue),this.CONFIG_STOREFRONT_INVOICE_DOWNLOAD_ENABLED in this.config&&this.CONFIG_STOREFRONT_INVOICE_DOWNLOAD_ENABLED in t||(this.config[this.CONFIG_STOREFRONT_INVOICE_DOWNLOAD_ENABLED]=this.configStorefrontInvoiceDownloadEnabledEnabledDefaultValue),this.CONFIG_STOREFRONT_WEBHOOKS_UPDATE_ENABLED in this.config&&this.CONFIG_STOREFRONT_WEBHOOKS_UPDATE_ENABLED in t||(this.config[this.CONFIG_STOREFRONT_WEBHOOKS_UPDATE_ENABLED]=this.configStorefrontWebhooksUpdateEnabledDefaultValue),this.CONFIG_STOREFRONT_PAYMENTS_UPDATE_ENABLED in this.config&&this.CONFIG_STOREFRONT_PAYMENTS_UPDATE_ENABLED in t||(this.config[this.CONFIG_STOREFRONT_PAYMENTS_UPDATE_ENABLED]=this.configStorefrontPaymentsUpdateEnabledDefaultValue))},deep:!0}},methods:{onSave:function(){this.spaceIdFilled&&this.userIdFilled&&this.applicationKeyFilled?this.save():this.setErrorStates()},save:function(){var t=this;this.isLoading=!0,this.$refs.configComponent.save().then((function(e){e&&(t.config=e),t.registerWebHooks(),t.synchronizePaymentMethodConfiguration(),t.installOrderDeliveryStates()})).catch((function(){t.isLoading=!1}))},registerWebHooks:function(){var t=this;if(!1===this.config[this.CONFIG_STOREFRONT_WEBHOOKS_UPDATE_ENABLED])return!1;this.PostFinanceCheckoutConfigurationService.registerWebHooks(this.$refs.configComponent.selectedSalesChannelId).then((function(){t.createNotificationSuccess({title:t.$tc("postfinancecheckout-settings.settingForm.titleSuccess"),message:t.$tc("postfinancecheckout-settings.settingForm.messageWebHookUpdated")})})).catch((function(){t.createNotificationError({title:t.$tc("postfinancecheckout-settings.settingForm.titleError"),message:t.$tc("postfinancecheckout-settings.settingForm.messageWebHookError")}),t.isLoading=!1}))},synchronizePaymentMethodConfiguration:function(){var t=this;if(!1===this.config[this.CONFIG_STOREFRONT_PAYMENTS_UPDATE_ENABLED])return!1;this.PostFinanceCheckoutConfigurationService.synchronizePaymentMethodConfiguration(this.$refs.configComponent.selectedSalesChannelId).then((function(){t.createNotificationSuccess({title:t.$tc("postfinancecheckout-settings.settingForm.titleSuccess"),message:t.$tc("postfinancecheckout-settings.settingForm.messagePaymentMethodConfigurationUpdated")}),t.isLoading=!1})).catch((function(){t.createNotificationError({title:t.$tc("postfinancecheckout-settings.settingForm.titleError"),message:t.$tc("postfinancecheckout-settings.settingForm.messagePaymentMethodConfigurationError")}),t.isLoading=!1}))},installOrderDeliveryStates:function(){var t=this;this.PostFinanceCheckoutConfigurationService.installOrderDeliveryStates().then((function(){t.createNotificationSuccess({title:t.$tc("postfinancecheckout-settings.settingForm.titleSuccess"),message:t.$tc("postfinancecheckout-settings.settingForm.messageOrderDeliveryStateUpdated")}),t.isLoading=!1})).catch((function(){t.createNotificationError({title:t.$tc("postfinancecheckout-settings.settingForm.titleError"),message:t.$tc("postfinancecheckout-settings.settingForm.messageOrderDeliveryStateError")}),t.isLoading=!1}))},onSetPaymentMethodDefault:function(){var t=this;this.isSettingDefaultPaymentMethods=!0,this.PostFinanceCheckoutConfigurationService.setPostFinanceCheckoutAsSalesChannelPaymentDefault(this.$refs.configComponent.selectedSalesChannelId).then((function(){t.isSettingDefaultPaymentMethods=!1,t.isSetDefaultPaymentSuccessful=!0}))},setErrorStates:function(){var t={code:1,detail:this.$tc("postfinancecheckout-settings.messageNotBlank")};this.spaceIdFilled||(this.spaceIdErrorState=t),this.userIdFilled||(this.userIdErrorState=t),this.applicationKeyFilled||(this.applicationKeyErrorState=t)},onCheckApiConnection:function(t){var e=this,n=t.spaceId,o=t.userId,i=t.applicationKey;this.isTesting=!0,this.PostFinanceCheckoutConfigurationService.checkApiConnection(n,o,i).then((function(t){200===t.result?e.createNotificationSuccess({title:e.$tc("postfinancecheckout-settings.settingForm.credentials.alert.title"),message:e.$tc("postfinancecheckout-settings.settingForm.credentials.alert.successMessage")}):e.createNotificationError({title:e.$tc("postfinancecheckout-settings.settingForm.credentials.alert.title"),message:e.$tc("postfinancecheckout-settings.settingForm.credentials.alert.errorMessage")}),e.isTesting=!1})).catch((function(){e.createNotificationError({title:e.$tc("postfinancecheckout-settings.settingForm.credentials.alert.title"),message:e.$tc("postfinancecheckout-settings.settingForm.credentials.alert.errorMessage")}),e.isTesting=!1}))}}});function z(t){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function K(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function W(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==z(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!==z(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===z(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Y=Shopware,Q=Y.Component,Z=Y.Mixin;Q.register("sw-postfinancecheckout-credentials",{template:'{% block postfinancecheckout_settings_content_card_channel_config_credentials %}\n\t<sw-card\n\t\t\tclass="sw-card"\n\t\t\t :title="$tc(\'postfinancecheckout-settings.settingForm.credentials.cardTitle\')"\n\t\t\tv-if="!isShowcase"\n\t>\n\n\t\t{% block postfinancecheckout_settings_content_card_channel_config_credentials_card_container %}\n\t\t\t<sw-container>\n\n\t\t\t\t{% block postfinancecheckout_settings_content_card_channel_config_credentials_card_container_settings %}\n\t\t\t\t\t<div v-if="actualConfigData" class="postfinancecheckout-settings-credentials-fields">\n\n\t\t\t\t\t\t{% block postfinancecheckout_settings_content_card_channel_config_credentials_card_container_settings_space_id %}\n\t\t\t\t\t\t\t<sw-inherit-wrapper\n\t\t\t\t\t\t\t\t\tv-model="actualConfigData[CONFIG_SPACE_ID]"\n\t\t\t\t\t\t\t\t\t:inheritedValue="selectedSalesChannelId === null ? null : allConfigs[\'null\'][CONFIG_SPACE_ID]"\n\t\t\t\t\t\t\t\t\t:customInheritationCheckFunction="checkNumberFieldInheritance">\n\t\t\t\t\t\t\t\t<template #content="props">\n\t\t\t\t\t\t\t\t\t<sw-number-field\n\t\t\t\t\t\t\t\t\t\t\t:name="CONFIG_SPACE_ID"\n\t\t\t\t\t\t\t\t\t\t\t:required="true"\n\t\t\t\t\t\t\t\t\t\t\t:mapInheritance="props"\n\t\t\t\t\t\t\t\t\t\t\t:label="$tc(\'postfinancecheckout-settings.settingForm.credentials.spaceId.label\')"\n\t\t\t\t\t\t\t\t\t\t\t:helpText="$tc(\'postfinancecheckout-settings.settingForm.credentials.spaceId.tooltipText\')"\n\t\t\t\t\t\t\t\t\t\t\t:disabled="props.isInherited"\n\t\t\t\t\t\t\t\t\t\t\t:value="props.currentValue"\n\t\t\t\t\t\t\t\t\t\t\t:error="spaceIdErrorState"\n\t\t\t\t\t\t\t\t\t\t\t@change="props.updateCurrentValue">\n\t\t\t\t\t\t\t\t\t</sw-number-field>\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t</sw-inherit-wrapper>\n\t\t\t\t\t\t{% endblock %}\n\n\t\t\t\t\t\t{% block postfinancecheckout_settings_content_card_channel_config_credentials_card_container_settings_user_id %}\n\t\t\t\t\t\t\t<sw-inherit-wrapper\n\t\t\t\t\t\t\t\t\tv-model="actualConfigData[CONFIG_USER_ID]"\n\t\t\t\t\t\t\t\t\t:inheritedValue="selectedSalesChannelId === null ? null : allConfigs[\'null\'][CONFIG_USER_ID]"\n\t\t\t\t\t\t\t\t\t:customInheritationCheckFunction="checkNumberFieldInheritance">\n\t\t\t\t\t\t\t\t<template #content="props">\n\t\t\t\t\t\t\t\t\t<sw-number-field\n\t\t\t\t\t\t\t\t\t\t\t:name="CONFIG_USER_ID"\n\t\t\t\t\t\t\t\t\t\t\t:required="true"\n\t\t\t\t\t\t\t\t\t\t\t:mapInheritance="props"\n\t\t\t\t\t\t\t\t\t\t\t:label="$tc(\'postfinancecheckout-settings.settingForm.credentials.userId.label\')"\n\t\t\t\t\t\t\t\t\t\t\t:helpText="$tc(\'postfinancecheckout-settings.settingForm.credentials.userId.tooltipText\')"\n\t\t\t\t\t\t\t\t\t\t\t:disabled="props.isInherited"\n\t\t\t\t\t\t\t\t\t\t\t:value="props.currentValue"\n\t\t\t\t\t\t\t\t\t\t\t:error="userIdErrorState"\n\t\t\t\t\t\t\t\t\t\t\t@change="props.updateCurrentValue">\n\t\t\t\t\t\t\t\t\t</sw-number-field>\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t</sw-inherit-wrapper>\n\t\t\t\t\t\t{% endblock %}\n\n\t\t\t\t\t\t{% block postfinancecheckout_settings_content_card_channel_config_credentials_card_container_settings_application_key %}\n\t\t\t\t\t\t\t<sw-inherit-wrapper\n\t\t\t\t\t\t\t\t\tv-model="actualConfigData[CONFIG_APPLICATION_KEY]"\n\t\t\t\t\t\t\t\t\t:inheritedValue="selectedSalesChannelId === null ? null : allConfigs[\'null\'][CONFIG_APPLICATION_KEY]"\n\t\t\t\t\t\t\t\t\t:customInheritationCheckFunction="checkTextFieldInheritance">\n\t\t\t\t\t\t\t\t<template #content="props">\n\t\t\t\t\t\t\t\t\t<sw-password-field\n\t\t\t\t\t\t\t\t\t\t\t:name="CONFIG_APPLICATION_KEY"\n\t\t\t\t\t\t\t\t\t\t\t:required="true"\n\t\t\t\t\t\t\t\t\t\t\t:passwordToggleAble="true"\n\t\t\t\t\t\t\t\t\t\t\t:mapInheritance="props"\n\t\t\t\t\t\t\t\t\t\t\t:label="$tc(\'postfinancecheckout-settings.settingForm.credentials.applicationKey.label\')"\n\t\t\t\t\t\t\t\t\t\t\t:helpText="$tc(\'postfinancecheckout-settings.settingForm.credentials.applicationKey.tooltipText\')"\n\t\t\t\t\t\t\t\t\t\t\t:disabled="props.isInherited"\n\t\t\t\t\t\t\t\t\t\t\t:value="props.currentValue"\n\t\t\t\t\t\t\t\t\t\t\t:error="applicationKeyErrorState"\n\t\t\t\t\t\t\t\t\t\t\t@change="props.updateCurrentValue">\n\t\t\t\t\t\t\t\t\t</sw-password-field>\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t</sw-inherit-wrapper>\n\t\t\t\t\t\t{% endblock %}\n\t\t\t\t\t</div>\n\t\t\t\t{% endblock %}\n\n\t\t\t\t<sw-container columns="1fr 1fr" gap="0px 30px">\n\t\t\t\t\t<sw-button-process\n\t\t\t\t\t\t\t:isLoading="isTesting"\n\t\t\t\t\t\t\t@click="emitCheckApiConnectionEvent">\n\t\t\t\t\t\t{{ $tc(\'postfinancecheckout-settings.settingForm.credentials.button.label\') }}\n\t\t\t\t\t</sw-button-process>\n\t\t\t\t</sw-container>\n\n\t\t\t</sw-container>\n\t\t{% endblock %}\n\t</sw-card>\n\n{% endblock %}\n',name:"PostFinanceCheckoutCredentials",mixins:[Z.getByName("notification")],props:{actualConfigData:{type:Object,required:!0},allConfigs:{type:Object,required:!0},selectedSalesChannelId:{required:!0},spaceIdFilled:{type:Boolean,required:!0},spaceIdErrorState:{required:!0},userIdFilled:{type:Boolean,required:!0},userIdErrorState:{required:!0},applicationKeyFilled:{type:Boolean,required:!0},applicationKeyErrorState:{required:!0},isLoading:{type:Boolean,required:!0},isTesting:{type:Boolean,required:!1},isShowcase:{type:Boolean,required:!0}},data:function(){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?K(Object(n),!0).forEach((function(e){W(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):K(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},B)},computed:{},methods:{checkTextFieldInheritance:function(t){return"string"!=typeof t||t.length<=0},checkNumberFieldInheritance:function(t){return"number"!=typeof t||t.length<=0},checkBoolFieldInheritance:function(t){return"boolean"!=typeof t},emitCheckApiConnectionEvent:function(){var t={spaceId:this.actualConfigData[B.CONFIG_SPACE_ID],userId:this.actualConfigData[B.CONFIG_USER_ID],applicationKey:this.actualConfigData[B.CONFIG_APPLICATION_KEY]};this.$emit("check-api-connection-event",t)}}});function J(t){return(J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function X(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function tt(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==J(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!==J(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===J(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var et=Shopware,nt=et.Component,ot=et.Mixin;nt.register("sw-postfinancecheckout-options",{template:'{% block postfinancecheckout_settings_content_card_channel_config_options %}\n\t<sw-card class="sw-card"\n\t\t\t :title="$tc(\'postfinancecheckout-settings.settingForm.options.cardTitle\')">\n\n\t\t{% block postfinancecheckout_settings_content_card_channel_config_credentials_card_container %}\n\t\t\t<sw-container>\n\n\t\t\t\t{% block postfinancecheckout_settings_content_card_channel_config_credentials_card_container_settings %}\n\t\t\t\t\t<div v-if="actualConfigData" class="postfinancecheckout-settings-options-fields">\n\n\t\t\t\t\t\t{% block postfinancecheckout_settings_content_card_channel_config_credentials_card_container_settings_space_view_id %}\n\t\t\t\t\t\t\t<sw-inherit-wrapper\n\t\t\t\t\t\t\t\t\tv-model="actualConfigData[CONFIG_SPACE_VIEW_ID]"\n\t\t\t\t\t\t\t\t\t:inheritedValue="selectedSalesChannelId === null ? null : allConfigs[\'null\'][CONFIG_SPACE_VIEW_ID]"\n\t\t\t\t\t\t\t\t\t:customInheritationCheckFunction="checkNumberFieldInheritance">\n\t\t\t\t\t\t\t\t<template #content="props">\n\t\t\t\t\t\t\t\t\t<sw-number-field\n\t\t\t\t\t\t\t\t\t\t\t:name="CONFIG_SPACE_VIEW_ID"\n\t\t\t\t\t\t\t\t\t\t\t:mapInheritance="props"\n\t\t\t\t\t\t\t\t\t\t\t:label="$tc(\'postfinancecheckout-settings.settingForm.options.spaceViewId.label\')"\n\t\t\t\t\t\t\t\t\t\t\t:helpText="$tc(\'postfinancecheckout-settings.settingForm.options.spaceViewId.tooltipText\')"\n\t\t\t\t\t\t\t\t\t\t\t:disabled="props.isInherited"\n\t\t\t\t\t\t\t\t\t\t\t:value="props.currentValue"\n\t\t\t\t\t\t\t\t\t\t\t@change="props.updateCurrentValue">\n\t\t\t\t\t\t\t\t\t</sw-number-field>\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t</sw-inherit-wrapper>\n\t\t\t\t\t\t{% endblock %}\n\n\t\t\t\t\t\t{% block postfinancecheckout_settings_content_card_channel_config_credentials_card_container_settings_integration %}\n\t\t\t\t\t\t\t<sw-inherit-wrapper\n\t\t\t\t\t\t\t\t\tv-model="actualConfigData[CONFIG_INTEGRATION]"\n\t\t\t\t\t\t\t\t\t:inheritedValue="selectedSalesChannelId === null ? null : allConfigs[\'null\'][CONFIG_INTEGRATION]"\n\t\t\t\t\t\t\t\t\t:customInheritationCheckFunction="checkTextFieldInheritance">\n\t\t\t\t\t\t\t\t<template #content="props">\n\t\t\t\t\t\t\t\t\t<sw-single-select\n\t\t\t\t\t\t\t\t\t\t\t:name="CONFIG_INTEGRATION"\n\t\t\t\t\t\t\t\t\t\t\tlabelProperty="name"\n\t\t\t\t\t\t\t\t\t\t\tvalueProperty="id"\n\t\t\t\t\t\t\t\t\t\t\t:options="integrationOptions"\n\t\t\t\t\t\t\t\t\t\t\t:mapInheritance="props"\n\t\t\t\t\t\t\t\t\t\t\t:label="$tc(\'postfinancecheckout-settings.settingForm.options.integration.label\')"\n\t\t\t\t\t\t\t\t\t\t\t:helpText="$tc(\'postfinancecheckout-settings.settingForm.options.integration.tooltipText\')"\n\t\t\t\t\t\t\t\t\t\t\t:disabled="props.isInherited"\n\t\t\t\t\t\t\t\t\t\t\t:value="props.currentValue"\n\t\t\t\t\t\t\t\t\t\t\t@change="props.updateCurrentValue">\n\t\t\t\t\t\t\t\t\t</sw-single-select>\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t</sw-inherit-wrapper>\n\t\t\t\t\t\t{% endblock %}\n\n\t\t\t\t\t\t{% block postfinancecheckout_settings_content_card_channel_config_credentials_card_container_settings_line_item_consistency_enabled %}\n\t\t\t\t\t\t\t<sw-inherit-wrapper\n\t\t\t\t\t\t\t\t\tv-model="actualConfigData[CONFIG_LINE_ITEM_CONSISTENCY_ENABLED]"\n\t\t\t\t\t\t\t\t\t:inheritedValue="selectedSalesChannelId == null ? null : allConfigs[\'null\'][CONFIG_LINE_ITEM_CONSISTENCY_ENABLED]"\n\t\t\t\t\t\t\t\t\t:customInheritationCheckFunction="checkBoolFieldInheritance">\n\t\t\t\t\t\t\t\t<template #content="props">\n\t\t\t\t\t\t\t\t\t<sw-switch-field\n\t\t\t\t\t\t\t\t\t\t\t:name="CONFIG_LINE_ITEM_CONSISTENCY_ENABLED"\n\t\t\t\t\t\t\t\t\t\t\tbordered\n\t\t\t\t\t\t\t\t\t\t\t:mapInheritance="props"\n\t\t\t\t\t\t\t\t\t\t\t:label="$tc(\'postfinancecheckout-settings.settingForm.options.lineItemConsistencyEnabled.label\')"\n\t\t\t\t\t\t\t\t\t\t\t:helpText="$tc(\'postfinancecheckout-settings.settingForm.options.lineItemConsistencyEnabled.tooltipText\')"\n\t\t\t\t\t\t\t\t\t\t\t:disabled="props.isInherited"\n\t\t\t\t\t\t\t\t\t\t\t:value="props.currentValue"\n\t\t\t\t\t\t\t\t\t\t\t@change="props.updateCurrentValue">\n\t\t\t\t\t\t\t\t\t</sw-switch-field>\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t</sw-inherit-wrapper>\n\t\t\t\t\t\t{% endblock %}\n\n\t\t\t\t\t\t{% block postfinancecheckout_settings_content_card_channel_config_credentials_card_container_settings_email_enabled %}\n\t\t\t\t\t\t\t<sw-inherit-wrapper\n\t\t\t\t\t\t\t\t\tv-model="actualConfigData[CONFIG_EMAIL_ENABLED]"\n\t\t\t\t\t\t\t\t\t:inheritedValue="selectedSalesChannelId == null ? null : allConfigs[\'null\'][CONFIG_EMAIL_ENABLED]"\n\t\t\t\t\t\t\t\t\t:customInheritationCheckFunction="checkBoolFieldInheritance">\n\t\t\t\t\t\t\t\t<template #content="props">\n\t\t\t\t\t\t\t\t\t<sw-switch-field\n\t\t\t\t\t\t\t\t\t\t\t:name="CONFIG_EMAIL_ENABLED"\n\t\t\t\t\t\t\t\t\t\t\tbordered\n\t\t\t\t\t\t\t\t\t\t\t:mapInheritance="props"\n\t\t\t\t\t\t\t\t\t\t\t:label="$tc(\'postfinancecheckout-settings.settingForm.options.emailEnabled.label\')"\n\t\t\t\t\t\t\t\t\t\t\t:helpText="$tc(\'postfinancecheckout-settings.settingForm.options.emailEnabled.tooltipText\')"\n\t\t\t\t\t\t\t\t\t\t\t:disabled="props.isInherited"\n\t\t\t\t\t\t\t\t\t\t\t:value="props.currentValue"\n\t\t\t\t\t\t\t\t\t\t\t@change="props.updateCurrentValue">\n\t\t\t\t\t\t\t\t\t</sw-switch-field>\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t</sw-inherit-wrapper>\n\t\t\t\t\t\t{% endblock %}\n\t\t\t\t\t</div>\n\t\t\t\t{% endblock %}\n\t\t\t</sw-container>\n\t\t{% endblock %}\n\t</sw-card>\n\n{% endblock %}\n',name:"PostFinanceCheckoutOptions",mixins:[ot.getByName("notification")],props:{actualConfigData:{type:Object,required:!0},allConfigs:{type:Object,required:!0},selectedSalesChannelId:{required:!0},isLoading:{type:Boolean,required:!0}},data:function(){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?X(Object(n),!0).forEach((function(e){tt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):X(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},B)},computed:{integrationOptions:function(){return[{id:"iframe",name:this.$tc("postfinancecheckout-settings.settingForm.options.integration.options.iframe")},{id:"payment_page",name:this.$tc("postfinancecheckout-settings.settingForm.options.integration.options.payment_page")}]}},methods:{checkTextFieldInheritance:function(t){return"string"!=typeof t||t.length<=0},checkNumberFieldInheritance:function(t){return"number"!=typeof t||t.length<=0},checkBoolFieldInheritance:function(t){return"boolean"!=typeof t}}});Shopware.Component.register("sw-postfinancecheckout-settings-icon",{template:'{% block postfinancecheckout_settings_icon %}\n    <span class="sw-icon icon--postfinancecheckout-multicolor sw-icon--multicolor">\n        <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="text/ecmascript" width="1000px" zoomAndPan="magnify" contentStyleType="text/css" height="1000px" id="svg2" viewBox="0 0 52.529 52.529" preserveAspectRatio="xMidYMid meet" version="1.0">\n    <defs id="defs6">\n        <clipPath id="clipPath18">\n            <path id="path20" d="M0 0h1486.77v420H0z"/>\n        </clipPath>\n    </defs>\n    <g id="layer2" transform="translate(0 .004)">\n        <path fill="#fcd205" stroke-width=".066" d="M0 52.525h52.529V-.004H0z" id="path22"/>\n        <path fill="#fff" stroke-width=".125" d="M25.456 38.682l1.466-5.891H5.487l-1.468 5.891h21.437" id="path24"/>\n        <path fill="#ed1c24" stroke-width=".11" d="M40.818 21.304s1.755-8.045 1.78-8.12H31.445c0 .05-2.306 10.676-2.306 10.727h2.858c.024 0 1.754-8.02 1.754-8.02h5.413s-1.704 8.044-1.754 8.095h8.245l-1.077 4.962H36.38c0 .05-1.653 7.569-1.653 7.569h-6.19c0 .024-.552 2.706-.576 2.731h9.121c0-.025 1.63-7.594 1.63-7.594h8.196c0-.025 2.155-10.3 2.155-10.35h-8.246" id="path26"/>\n        <path fill="#231f20" stroke-width=".092" d="M21.249 35.443l1.163-5.396h4.486l.54-2.646h-4.465l.686-3.312h4.713l.581-2.646h-7.786l-2.949 14z" id="path1640"/>\n        <path fill="#231f20" stroke-width=".092" d="M10.104 21.303l-2.973 14h3.015l.921-4.272h1.32c4.21 0 6.557-2.061 6.557-5.499 0-2.562-1.823-4.229-4.944-4.229zm2.472 2.564h1.257c1.383 0 2.051.562 2.051 1.875 0 1.687-1.067 2.728-3.035 2.728h-1.257z" id="path1638"/>\n    </g>\n</svg>\n\n    </span>\n{% endblock %}\n'});function it(t){return(it="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function at(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function rt(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==it(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!==it(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===it(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ct=Shopware,st=ct.Component,lt=ct.Mixin;st.register("sw-postfinancecheckout-storefront-options",{template:'<sw-card class="sw-card"\n\t\t :title="$tc(\'postfinancecheckout-settings.settingForm.storefrontOptions.cardTitle\')">\n\t<sw-container>\n\t\t<div v-if="actualConfigData" class="postfinancecheckout-settings-storefront-options-fields">\n\t\t\t<sw-inherit-wrapper\n\t\t\t\t\tv-model="actualConfigData[CONFIG_STOREFRONT_INVOICE_DOWNLOAD_ENABLED]"\n\t\t\t\t\t:inheritedValue="selectedSalesChannelId == null ? null : allConfigs[\'null\'][CONFIG_STOREFRONT_INVOICE_DOWNLOAD_ENABLED]"\n\t\t\t\t\t:customInheritationCheckFunction="checkBoolFieldInheritance">\n\t\t\t\t<template #content="props">\n\t\t\t\t\t<sw-switch-field\n\t\t\t\t\t\t\t:name="CONFIG_STOREFRONT_INVOICE_DOWNLOAD_ENABLED"\n\t\t\t\t\t\t\tbordered\n\t\t\t\t\t\t\t:mapInheritance="props"\n\t\t\t\t\t\t\t:label="$tc(\'postfinancecheckout-settings.settingForm.storefrontOptions.invoiceDownloadEnabled.label\')"\n\t\t\t\t\t\t\t:helpText="$tc(\'postfinancecheckout-settings.settingForm.storefrontOptions.invoiceDownloadEnabled.tooltipText\')"\n\t\t\t\t\t\t\t:disabled="props.isInherited"\n\t\t\t\t\t\t\t:value="props.currentValue"\n\t\t\t\t\t\t\t@change="props.updateCurrentValue">\n\t\t\t\t\t</sw-switch-field>\n\t\t\t\t</template>\n\t\t\t</sw-inherit-wrapper>\n\t\t</div>\n\t</sw-container>\n</sw-card>\n\n',name:"PostFinanceCheckoutStorefrontOptions",mixins:[lt.getByName("notification")],props:{actualConfigData:{type:Object,required:!0},allConfigs:{type:Object,required:!0},selectedSalesChannelId:{required:!0},isLoading:{type:Boolean,required:!0}},data:function(){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?at(Object(n),!0).forEach((function(e){rt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):at(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},B)},computed:{},methods:{checkTextFieldInheritance:function(t){return"string"!=typeof t||t.length<=0},checkNumberFieldInheritance:function(t){return"number"!=typeof t||t.length<=0},checkBoolFieldInheritance:function(t){return"boolean"!=typeof t}}});function ut(t){return(ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function dt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function pt(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==ut(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!==ut(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===ut(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ft=Shopware,ht=ft.Component,mt=ft.Mixin;function gt(t){return(gt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function bt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yt(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,(i=o.key,a=void 0,a=function(t,e){if("object"!==gt(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!==gt(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===gt(a)?a:String(a)),o)}var i,a}function _t(t,e){return(_t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function kt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Ct(t);if(e){var i=Ct(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return vt(this,n)}}function vt(t,e){if(e&&("object"===gt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Ct(t){return(Ct=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}ht.register("sw-postfinancecheckout-advanced-options",{template:'<sw-card class="sw-card"\n\t\t :title="$tc(\'postfinancecheckout-settings.settingForm.advancedOptions.cardTitle\')">\n\t<sw-container>\n\t\t<div v-if="actualConfigData" class="postfinancecheckout-settings-advanced-options-fields">\n\t\t\t<sw-inherit-wrapper\n\t\t\t\t\tv-model="actualConfigData[CONFIG_STOREFRONT_WEBHOOKS_UPDATE_ENABLED]"\n\t\t\t\t\t:inheritedValue="selectedSalesChannelId == null ? null : allConfigs[\'null\'][CONFIG_STOREFRONT_WEBHOOKS_UPDATE_ENABLED]"\n\t\t\t\t\t:customInheritationCheckFunction="checkBoolFieldInheritance">\n\t\t\t\t<template #content="props">\n\t\t\t\t\t<sw-switch-field\n\t\t\t\t\t\t\t:name="CONFIG_STOREFRONT_WEBHOOKS_UPDATE_ENABLED"\n\t\t\t\t\t\t\tbordered\n\t\t\t\t\t\t\t:mapInheritance="props"\n\t\t\t\t\t\t\t:label="$tc(\'postfinancecheckout-settings.settingForm.advancedOptions.webhooksUpdateEnabled.label\')"\n\t\t\t\t\t\t\t:helpText="$tc(\'postfinancecheckout-settings.settingForm.advancedOptions.webhooksUpdateEnabled.tooltipText\')"\n\t\t\t\t\t\t\t:disabled="props.isInherited"\n\t\t\t\t\t\t\t:value="props.currentValue"\n\t\t\t\t\t\t\t@change="props.updateCurrentValue">\n\t\t\t\t\t</sw-switch-field>\n\t\t\t\t</template>\n\t\t\t</sw-inherit-wrapper>\n\n\t\t\t<sw-inherit-wrapper\n\t\t\t\t\tv-model="actualConfigData[CONFIG_STOREFRONT_PAYMENTS_UPDATE_ENABLED]"\n\t\t\t\t\t:inheritedValue="selectedSalesChannelId == null ? null : allConfigs[\'null\'][CONFIG_STOREFRONT_PAYMENTS_UPDATE_ENABLED]"\n\t\t\t\t\t:customInheritationCheckFunction="checkBoolFieldInheritance">\n\t\t\t\t<template #content="props">\n\t\t\t\t\t<sw-switch-field\n\t\t\t\t\t\t\t:name="CONFIG_STOREFRONT_PAYMENTS_UPDATE_ENABLED"\n\t\t\t\t\t\t\tbordered\n\t\t\t\t\t\t\t:mapInheritance="props"\n\t\t\t\t\t\t\t:label="$tc(\'postfinancecheckout-settings.settingForm.advancedOptions.paymentsUpdateEnabled.label\')"\n\t\t\t\t\t\t\t:helpText="$tc(\'postfinancecheckout-settings.settingForm.advancedOptions.paymentsUpdateEnabled.tooltipText\')"\n\t\t\t\t\t\t\t:disabled="props.isInherited"\n\t\t\t\t\t\t\t:value="props.currentValue"\n\t\t\t\t\t\t\t@change="props.updateCurrentValue">\n\t\t\t\t\t</sw-switch-field>\n\t\t\t\t</template>\n\t\t\t</sw-inherit-wrapper>\n\t\t</div>\n\t</sw-container>\n</sw-card>\n\n',name:"PostFinanceCheckoutAdvancedOptions",mixins:[mt.getByName("notification")],props:{actualConfigData:{type:Object,required:!0},allConfigs:{type:Object,required:!0},selectedSalesChannelId:{required:!0},isLoading:{type:Boolean,required:!0}},data:function(){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?dt(Object(n),!0).forEach((function(e){pt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},B)},computed:{},methods:{checkTextFieldInheritance:function(t){return"string"!=typeof t||t.length<=0},checkNumberFieldInheritance:function(t){return"number"!=typeof t||t.length<=0},checkBoolFieldInheritance:function(t){return"boolean"!=typeof t}}}),Shopware.Module.register("postfinancecheckout-settings",{type:"plugin",name:"PostFinanceCheckout",title:"postfinancecheckout-settings.general.descriptionTextModule",description:"postfinancecheckout-settings.general.descriptionTextModule",color:"#28d8ff",icon:"default-action-settings",version:"1.0.0",targetVersion:"1.0.0",routes:{index:{component:"postfinancecheckout-settings",path:"index",meta:{parentPath:"sw.settings.index",privilege:"postfinancecheckout.viewer"}}},settingsItem:{group:"plugins",to:"postfinancecheckout.settings.index",iconComponent:"sw-postfinancecheckout-settings-icon",backgroundEnabled:!0,privilege:"postfinancecheckout.viewer"}});var It=Shopware.Classes.ApiService,wt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_t(t,e)}(a,t);var e,n,o,i=kt(a);function a(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"postfinancecheckout";return bt(this,a),i.call(this,t,e,n)}return e=a,(n=[{key:"registerWebHooks",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=this.getBasicHeaders(),n="".concat(Shopware.Context.api.apiPath,"/_action/").concat(this.getApiBasePath(),"/configuration/register-web-hooks");return this.httpClient.post(n,{salesChannelId:t},{headers:e}).then((function(t){return It.handleResponse(t)}))}},{key:"checkApiConnection",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=this.getBasicHeaders(),i="".concat(Shopware.Context.api.apiPath,"/_action/").concat(this.getApiBasePath(),"/configuration/check-api-connection");return this.httpClient.post(i,{spaceId:t,userId:e,applicationId:n},{headers:o}).then((function(t){return It.handleResponse(t)}))}},{key:"setPostFinanceCheckoutAsSalesChannelPaymentDefault",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=this.getBasicHeaders(),n="".concat(Shopware.Context.api.apiPath,"/_action/").concat(this.getApiBasePath(),"/configuration/set-postfinancecheckout-as-sales-channel-payment-default");return this.httpClient.post(n,{salesChannelId:t},{headers:e}).then((function(t){return It.handleResponse(t)}))}},{key:"synchronizePaymentMethodConfiguration",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=this.getBasicHeaders(),n="".concat(Shopware.Context.api.apiPath,"/_action/").concat(this.getApiBasePath(),"/configuration/synchronize-payment-method-configuration");return this.httpClient.post(n,{salesChannelId:t},{headers:e}).then((function(t){return It.handleResponse(t)}))}},{key:"installOrderDeliveryStates",value:function(){var t=this.getBasicHeaders(),e="".concat(Shopware.Context.api.apiPath,"/_action/").concat(this.getApiBasePath(),"/configuration/install-order-delivery-states");return this.httpClient.post(e,{},{headers:t}).then((function(t){return It.handleResponse(t)}))}}])&&yt(e.prototype,n),o&&yt(e,o),Object.defineProperty(e,"prototype",{writable:!1}),a}(It);function Ot(t){return(Ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function St(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Et(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,(i=o.key,a=void 0,a=function(t,e){if("object"!==Ot(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!==Ot(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===Ot(a)?a:String(a)),o)}var i,a}function Nt(t,e){return(Nt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Pt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Ft(t);if(e){var i=Ft(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return Tt(this,n)}}function Tt(t,e){if(e&&("object"===Ot(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Ft(t){return(Ft=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Dt=Shopware.Classes.ApiService,At=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Nt(t,e)}(a,t);var e,n,o,i=Pt(a);function a(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"postfinancecheckout";return St(this,a),i.call(this,t,e,n)}return e=a,(n=[{key:"createRefund",value:function(t,e,n,o){var i=this.getBasicHeaders(),a="".concat(Shopware.Context.api.apiPath,"/_action/").concat(this.getApiBasePath(),"/refund/create-refund/");return this.httpClient.post(a,{salesChannelId:t,transactionId:e,quantity:n,lineItemId:o},{headers:i}).then((function(t){return Dt.handleResponse(t)}))}},{key:"createRefundByAmount",value:function(t,e,n){var o=this.getBasicHeaders(),i="".concat(Shopware.Context.api.apiPath,"/_action/").concat(this.getApiBasePath(),"/refund/create-refund-by-amount/");return this.httpClient.post(i,{salesChannelId:t,transactionId:e,refundableAmount:n},{headers:o}).then((function(t){return Dt.handleResponse(t)}))}}])&&Et(e.prototype,n),o&&Et(e,o),Object.defineProperty(e,"prototype",{writable:!1}),a}(Dt);function xt(t){return(xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Lt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,(i=o.key,a=void 0,a=function(t,e){if("object"!==xt(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!==xt(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===xt(a)?a:String(a)),o)}var i,a}function Rt(t,e){return(Rt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function jt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Mt(t);if(e){var i=Mt(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return Bt(this,n)}}function Bt(t,e){if(e&&("object"===xt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Mt(t){return(Mt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Gt=Shopware.Classes.ApiService,Vt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Rt(t,e)}(a,t);var e,n,o,i=jt(a);function a(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"postfinancecheckout";return Lt(this,a),i.call(this,t,e,n)}return e=a,(n=[{key:"getTransactionData",value:function(t,e){var n=this.getBasicHeaders(),o="".concat(Shopware.Context.api.apiPath,"/_action/").concat(this.getApiBasePath(),"/transaction/get-transaction-data/");return this.httpClient.post(o,{salesChannelId:t,transactionId:e},{headers:n}).then((function(t){return Gt.handleResponse(t)}))}},{key:"getInvoiceDocument",value:function(t,e){return"".concat(Shopware.Context.api.apiPath,"/_action/").concat(this.getApiBasePath(),"/transaction/get-invoice-document/").concat(t,"/").concat(e)}},{key:"getPackingSlip",value:function(t,e){return"".concat(Shopware.Context.api.apiPath,"/_action/").concat(this.getApiBasePath(),"/transaction/get-packing-slip/").concat(t,"/").concat(e)}}])&&$t(e.prototype,n),o&&$t(e,o),Object.defineProperty(e,"prototype",{writable:!1}),a}(Gt);function qt(t){return(qt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ut(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ht(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,(i=o.key,a=void 0,a=function(t,e){if("object"!==qt(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!==qt(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===qt(a)?a:String(a)),o)}var i,a}function zt(t,e){return(zt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Kt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Yt(t);if(e){var i=Yt(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return Wt(this,n)}}function Wt(t,e){if(e&&("object"===qt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Yt(t){return(Yt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Qt=Shopware.Classes.ApiService,Zt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zt(t,e)}(a,t);var e,n,o,i=Kt(a);function a(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"postfinancecheckout";return Ut(this,a),i.call(this,t,e,n)}return e=a,(n=[{key:"createTransactionCompletion",value:function(t,e){var n=this.getBasicHeaders(),o="".concat(Shopware.Context.api.apiPath,"/_action/").concat(this.getApiBasePath(),"/transaction-completion/create-transaction-completion/");return this.httpClient.post(o,{salesChannelId:t,transactionId:e},{headers:n}).then((function(t){return Qt.handleResponse(t)}))}}])&&Ht(e.prototype,n),o&&Ht(e,o),Object.defineProperty(e,"prototype",{writable:!1}),a}(Qt);function Jt(t){return(Jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Xt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function te(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,(i=o.key,a=void 0,a=function(t,e){if("object"!==Jt(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!==Jt(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===Jt(a)?a:String(a)),o)}var i,a}function ee(t,e){return(ee=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function ne(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=ie(t);if(e){var i=ie(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return oe(this,n)}}function oe(t,e){if(e&&("object"===Jt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function ie(t){return(ie=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ae=Shopware.Classes.ApiService,re=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ee(t,e)}(a,t);var e,n,o,i=ne(a);function a(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"postfinancecheckout";return Xt(this,a),i.call(this,t,e,n)}return e=a,(n=[{key:"createTransactionVoid",value:function(t,e){var n=this.getBasicHeaders(),o="".concat(Shopware.Context.api.apiPath,"/_action/").concat(this.getApiBasePath(),"/transaction-void/create-transaction-void/");return this.httpClient.post(o,{salesChannelId:t,transactionId:e},{headers:n}).then((function(t){return ae.handleResponse(t)}))}}])&&te(e.prototype,n),o&&te(e,o),Object.defineProperty(e,"prototype",{writable:!1}),a}(ae),ce=Shopware.Application;ce.addServiceProvider("PostFinanceCheckoutConfigurationService",(function(t){var e=ce.getContainer("init");return new wt(e.httpClient,t.loginService)})),ce.addServiceProvider("PostFinanceCheckoutRefundService",(function(t){var e=ce.getContainer("init");return new At(e.httpClient,t.loginService)})),ce.addServiceProvider("PostFinanceCheckoutTransactionService",(function(t){var e=ce.getContainer("init");return new Vt(e.httpClient,t.loginService)})),ce.addServiceProvider("PostFinanceCheckoutTransactionCompletionService",(function(t){var e=ce.getContainer("init");return new Zt(e.httpClient,t.loginService)})),ce.addServiceProvider("PostFinanceCheckoutTransactionVoidService",(function(t){var e=ce.getContainer("init");return new re(e.httpClient,t.loginService)}))},S4uP:function(t,e,n){var o=n("I8qA");o.__esModule&&(o=o.default),"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);(0,n("P8hj").default)("a433a99c",o,!0,{})},eUZl:function(t){t.exports=JSON.parse('{"postfinancecheckout-order":{"buttons":{"label":{"completion":"Terminée","download-invoice":"Télécharger la facture","download-packing-slip":"Télécharger le bordereau d\'expédition","refund":"Créer un nouveau remboursement","void":"Annulez l\'autorisation","refund-whole-line-item":"Remboursement de la ligne entière","refund-line-item-by-quantity":"Remboursement par quantité"}},"captureAction":{"button":{"text":"Capture du paiement"},"currentAmount":"Montant","isFinal":"C\'est la capture finale","maxAmount":"Montant maximal","successMessage":"Votre capture a été réussie.","successTitle":"Succès"},"general":{"title":"Commandes"},"header":"PostFinanceCheckout Paiement","lineItem":{"cardTitle":"Articles de ligne","types":{"amountIncludingTax":"Montant","name":"Nom","quantity":"Quantité","taxAmount":"Taxes","type":"Type","uniqueId":"ID unique"}},"modal":{"title":{"capture":"Capture","refund":"Nouveau remboursement","void":"Annulez l\'autorisation"}},"paymentDetails":{"cardTitle":"Paiement","error":{"title":"Erreur dans la récupération des détails du paiement à partir de PostFinanceCheckout"}},"refund":{"cardTitle":"Remboursements","refundAmount":{"label":"Montant du remboursement"},"refundQuantity":{"label":"Quantité à rembourser"},"types":{"amount":"Montant","createdOn":"Créé le","id":"ID","state":"État"}},"refundAction":{"confirmButton":{"text":"Exécutez"},"refundAmount":{"label":"Montant","placeholder":"Entrez un montant"},"successMessage":"Votre remboursement a été effectué avec succès.","successTitle":"Succès","maxAvailableItemsToRefund":"Nombre maximum d\'articles disponibles pour le remboursement"},"transactionHistory":{"cardTitle":"Détails","types":{"authorized_amount":"Montant autorisé","currency":"Monnaie","customer":"Client","payment_method":"Mode de paiement","state":"État","transaction":"Transaction"},"customerId":"Customer ID","customerName":"Customer Name","creditCardHolder":"Titulaire de la carte de crédit","paymentMethod":"Mode de paiement","paymentMethodBrand":"Marque du mode de paiement","PseudoCreditCardNumber":"Pseudo numéro de carte de crédit","CardExpire":"La carte expire"},"voidAction":{"confirm":{"button":{"cancel":"Non","confirm":"Annulez l\'autorisation"},"message":"Voulez-vous vraiment annuler ce paiement?"},"successMessage":"Le paiement a été annulé avec succès.","successTitle":"Succès"}}}')},hKY3:function(t){t.exports=JSON.parse('{"postfinancecheckout-order":{"buttons":{"label":{"completion":"Complete","download-invoice":"Download Invoice","download-packing-slip":"Download Packing Slip","refund":"Create a new refund","void":"Cancel authorization","refund-whole-line-item":"Refund whole line item","refund-line-item-by-quantity":"Refund by quantity"}},"captureAction":{"button":{"text":"Capture payment"},"currentAmount":"Amount","isFinal":"This is final capture","maxAmount":"Maximum amount","successMessage":"Your capture was successful.","successTitle":"Success"},"general":{"title":"Orders"},"header":"PostFinanceCheckout Payment","lineItem":{"cardTitle":"Line Items","types":{"amountIncludingTax":"Amount","name":"Name","quantity":"Quantity","taxAmount":"Taxes","type":"Type","uniqueId":"Unique ID"}},"modal":{"title":{"capture":"Capture","refund":"New refund","void":"Cancel authorization"}},"paymentDetails":{"cardTitle":"Payment","error":{"title":"Error fetching payment details from PostFinanceCheckout"}},"refund":{"cardTitle":"Refunds","refundAmount":{"label":"Refund Amount"},"refundQuantity":{"label":"Refund Quantity"},"types":{"amount":"Amount","createdOn":"Created On","id":"ID","state":"State"}},"refundAction":{"confirmButton":{"text":"Execute"},"refundAmount":{"label":"Amount","placeholder":"Enter a amount"},"successMessage":"Your refund was successful.","successTitle":"Success","maxAvailableItemsToRefund":"Maximum available items to refund"},"transactionHistory":{"cardTitle":"Details","types":{"authorized_amount":"Authorized Amount","currency":"Currency","customer":"Customer","payment_method":"Payment Method","state":"State","transaction":"Transaction"},"customerId":"Customer ID","customerName":"Customer Name","creditCardHolder":"Credit Card Holder","paymentMethod":"Payment Method","paymentMethodBrand":"Payment Method Brand","PseudoCreditCardNumber":"Pseudo Credit Card Number","CardExpire":"Card Expire"},"voidAction":{"confirm":{"button":{"cancel":"No","confirm":"Cancel authorization"},"message":"Do you really want to cancel this payment?"},"successMessage":"The payment was successfully voided.","successTitle":"Success"}}}')},qeOe:function(t,e,n){}});
//# sourceMappingURL=post-finance-checkout-payment.js.map